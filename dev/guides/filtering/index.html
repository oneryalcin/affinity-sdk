
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Strongly-typed Python SDK for the Affinity CRM API">
      
      
      
      
        <link rel="prev" href="../rate-limits/">
      
      
        <link rel="next" href="../query-command/">
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Filtering - Affinity Python SDK</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#filtering" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Affinity Python SDK" class="md-header__button md-logo" aria-label="Affinity Python SDK" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Affinity Python SDK
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Filtering
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/yaniv-golan/affinity-sdk" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Affinity Python SDK" class="md-nav__button md-logo" aria-label="Affinity Python SDK" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Affinity Python SDK
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/yaniv-golan/affinity-sdk" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Getting started
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Examples
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../glossary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Glossary
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../changelog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Changelog
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    CLI
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    CLI
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/commands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Commands
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/scripting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Scripting
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli-reference/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    JSON Output Reference
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    AI Integrations
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    AI Integrations
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ai-integrations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mcp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    MCP Server
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../claude-code-plugins/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Claude Code Plugins & Skills
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" checked>
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Guides
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    Guides
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../authentication/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Authentication
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../performance/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Performance tuning
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api-versions-and-routing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    API versions & routing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pagination/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Pagination
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../errors-and-retries/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Errors & retries
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../rate-limits/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Rate limits
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Filtering
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Filtering
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#recommended-use-the-filter-builder" class="md-nav__link">
    <span class="md-ellipsis">
      
        Recommended: Use the Filter Builder
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#filter-builder-examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Filter Builder Examples
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#raw-filter-strings" class="md-nav__link">
    <span class="md-ellipsis">
      
        Raw Filter Strings
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Raw Filter Strings">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#standard-operators-affinity-v2-api-compatible" class="md-nav__link">
    <span class="md-ellipsis">
      
        Standard Operators (Affinity V2 API compatible)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sdk-extensions-client-side-filtering-only" class="md-nav__link">
    <span class="md-ellipsis">
      
        SDK Extensions (client-side filtering only)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SDK Extensions (client-side filtering only)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#word-based-aliases-sdk-extension" class="md-nav__link">
    <span class="md-ellipsis">
      
        Word-Based Aliases [SDK Extension]
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#additional-collection-operators-sdk-extension" class="md-nav__link">
    <span class="md-ellipsis">
      
        Additional Collection Operators [SDK Extension]
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cli-examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        CLI Examples
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-can-be-filtered" class="md-nav__link">
    <span class="md-ellipsis">
      
        What Can Be Filtered?
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#filtering-in-list-exports-cli" class="md-nav__link">
    <span class="md-ellipsis">
      
        Filtering in List Exports (CLI)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Filtering in List Exports (CLI)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#why-the-difference" class="md-nav__link">
    <span class="md-ellipsis">
      
        Why the difference?
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#performance-consideration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Performance consideration
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    <span class="md-ellipsis">
      
        Next steps
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../query-command/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Query command
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../datetime-handling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Datetime handling
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../csv-export/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CSV Export (CLI)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../field-types-and-values/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Field types & values
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../field-values/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Field values
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Models
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ids-and-types/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    IDs & types
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sync-vs-async/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sync vs async
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../debugging-hooks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Debugging hooks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../webhooks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Webhooks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../opportunity-associations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Opportunity associations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshooting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Troubleshooting
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/client/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Client
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/exceptions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Exceptions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/types/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Types
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/filters/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Filters
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/query-language/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Query Language
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/models/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Models
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_7" >
        
          
          <label class="md-nav__link" for="__nav_10_7" id="__nav_10_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Services
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_10_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Services
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/services/companies/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Companies
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/services/persons/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Persons
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/services/lists/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lists
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/services/opportunities/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Opportunities
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/services/tasks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tasks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_7_6" >
        
          
          <label class="md-nav__link" for="__nav_10_7_6" id="__nav_10_7_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    V1 endpoints
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_10_7_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_7_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    V1 endpoints
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/services/v1/notes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Notes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/services/v1/reminders/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Reminders
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/services/v1/webhooks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Webhooks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/services/v1/interactions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Interactions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/services/v1/fields/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Fields
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/services/v1/field-values/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Field values
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/services/v1/files/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Files
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/services/v1/relationships/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Relationships
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/services/v1/auth/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Auth
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#recommended-use-the-filter-builder" class="md-nav__link">
    <span class="md-ellipsis">
      
        Recommended: Use the Filter Builder
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#filter-builder-examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Filter Builder Examples
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#raw-filter-strings" class="md-nav__link">
    <span class="md-ellipsis">
      
        Raw Filter Strings
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Raw Filter Strings">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#standard-operators-affinity-v2-api-compatible" class="md-nav__link">
    <span class="md-ellipsis">
      
        Standard Operators (Affinity V2 API compatible)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sdk-extensions-client-side-filtering-only" class="md-nav__link">
    <span class="md-ellipsis">
      
        SDK Extensions (client-side filtering only)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SDK Extensions (client-side filtering only)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#word-based-aliases-sdk-extension" class="md-nav__link">
    <span class="md-ellipsis">
      
        Word-Based Aliases [SDK Extension]
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#additional-collection-operators-sdk-extension" class="md-nav__link">
    <span class="md-ellipsis">
      
        Additional Collection Operators [SDK Extension]
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cli-examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        CLI Examples
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-can-be-filtered" class="md-nav__link">
    <span class="md-ellipsis">
      
        What Can Be Filtered?
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#filtering-in-list-exports-cli" class="md-nav__link">
    <span class="md-ellipsis">
      
        Filtering in List Exports (CLI)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Filtering in List Exports (CLI)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#why-the-difference" class="md-nav__link">
    <span class="md-ellipsis">
      
        Why the difference?
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#performance-consideration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Performance consideration
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    <span class="md-ellipsis">
      
        Next steps
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="filtering">Filtering<a class="headerlink" href="#filtering" title="Permanent link">&para;</a></h1>
<p>V2 list endpoints accept <code>filter</code> expressions to query custom fields.</p>
<p><strong>Important:</strong> V2 filters only work with <strong>custom fields</strong>, not built-in entity properties. Built-in properties like <code>type</code>, <code>firstName</code>, <code>domain</code>, etc. cannot be filtered.</p>
<h2 id="recommended-use-the-filter-builder">Recommended: Use the Filter Builder<a class="headerlink" href="#recommended-use-the-filter-builder" title="Permanent link">&para;</a></h2>
<p>Use <code>affinity.F</code> to build type-safe filter expressions:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">affinity</span><span class="w"> </span><span class="kn">import</span> <span class="n">Affinity</span><span class="p">,</span> <span class="n">F</span>

<span class="k">with</span> <span class="n">Affinity</span><span class="p">(</span><span class="n">api_key</span><span class="o">=</span><span class="s2">&quot;your-api-key&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">client</span><span class="p">:</span>
    <span class="c1"># Recommended: Type-safe filter builder</span>
    <span class="n">companies</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">companies</span><span class="o">.</span><span class="n">list</span><span class="p">(</span>
        <span class="nb">filter</span><span class="o">=</span><span class="n">F</span><span class="o">.</span><span class="n">field</span><span class="p">(</span><span class="s2">&quot;Industry&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="s2">&quot;Software&quot;</span><span class="p">)</span>
    <span class="p">)</span>
</code></pre></div>
<p>Benefits of the filter builder:
- Prevents syntax errors with type checking
- Handles escaping automatically
- Makes it clear you're filtering custom fields (via <code>field()</code> method)
- Provides IDE autocomplete for filter operations</p>
<p><strong>CLI users:</strong> The CLI uses raw filter string syntax. See examples below.</p>
<h2 id="filter-builder-examples">Filter Builder Examples<a class="headerlink" href="#filter-builder-examples" title="Permanent link">&para;</a></h2>
<p><strong>Simple comparisons:</strong></p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">affinity</span><span class="w"> </span><span class="kn">import</span> <span class="n">Affinity</span><span class="p">,</span> <span class="n">F</span>

<span class="c1"># Equals</span>
<span class="n">persons</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">persons</span><span class="o">.</span><span class="n">list</span><span class="p">(</span><span class="nb">filter</span><span class="o">=</span><span class="n">F</span><span class="o">.</span><span class="n">field</span><span class="p">(</span><span class="s2">&quot;Department&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="s2">&quot;Sales&quot;</span><span class="p">))</span>

<span class="c1"># Contains (case-insensitive substring match)</span>
<span class="n">companies</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">companies</span><span class="o">.</span><span class="n">list</span><span class="p">(</span><span class="nb">filter</span><span class="o">=</span><span class="n">F</span><span class="o">.</span><span class="n">field</span><span class="p">(</span><span class="s2">&quot;Industry&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s2">&quot;Tech&quot;</span><span class="p">))</span>

<span class="c1"># Starts with</span>
<span class="n">persons</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">persons</span><span class="o">.</span><span class="n">list</span><span class="p">(</span><span class="nb">filter</span><span class="o">=</span><span class="n">F</span><span class="o">.</span><span class="n">field</span><span class="p">(</span><span class="s2">&quot;Title&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">starts_with</span><span class="p">(</span><span class="s2">&quot;VP&quot;</span><span class="p">))</span>

<span class="c1"># Ends with</span>
<span class="n">persons</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">persons</span><span class="o">.</span><span class="n">list</span><span class="p">(</span><span class="nb">filter</span><span class="o">=</span><span class="n">F</span><span class="o">.</span><span class="n">field</span><span class="p">(</span><span class="s2">&quot;Email&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">ends_with</span><span class="p">(</span><span class="s2">&quot;@acme.com&quot;</span><span class="p">))</span>

<span class="c1"># Greater than (for numbers/dates)</span>
<span class="n">opportunities</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">opportunities</span><span class="o">.</span><span class="n">list</span><span class="p">(</span><span class="nb">filter</span><span class="o">=</span><span class="n">F</span><span class="o">.</span><span class="n">field</span><span class="p">(</span><span class="s2">&quot;Amount&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">greater_than</span><span class="p">(</span><span class="mi">100000</span><span class="p">))</span>

<span class="c1"># Is null / is not null</span>
<span class="n">persons</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">persons</span><span class="o">.</span><span class="n">list</span><span class="p">(</span><span class="nb">filter</span><span class="o">=</span><span class="n">F</span><span class="o">.</span><span class="n">field</span><span class="p">(</span><span class="s2">&quot;Manager&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">is_null</span><span class="p">())</span>
</code></pre></div>
<p><strong>Complex logic (AND/OR/NOT):</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># AND: Both conditions must be true</span>
<span class="n">active_sales</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">persons</span><span class="o">.</span><span class="n">list</span><span class="p">(</span>
    <span class="nb">filter</span><span class="o">=</span><span class="n">F</span><span class="o">.</span><span class="n">field</span><span class="p">(</span><span class="s2">&quot;Department&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="s2">&quot;Sales&quot;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">F</span><span class="o">.</span><span class="n">field</span><span class="p">(</span><span class="s2">&quot;Status&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="s2">&quot;Active&quot;</span><span class="p">)</span>
<span class="p">)</span>

<span class="c1"># OR: Either condition can be true</span>
<span class="n">tech_or_finance</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">companies</span><span class="o">.</span><span class="n">list</span><span class="p">(</span>
    <span class="nb">filter</span><span class="o">=</span><span class="n">F</span><span class="o">.</span><span class="n">field</span><span class="p">(</span><span class="s2">&quot;Industry&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="s2">&quot;Technology&quot;</span><span class="p">)</span> <span class="o">|</span> <span class="n">F</span><span class="o">.</span><span class="n">field</span><span class="p">(</span><span class="s2">&quot;Industry&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="s2">&quot;Finance&quot;</span><span class="p">)</span>
<span class="p">)</span>

<span class="c1"># NOT: Negate a condition</span>
<span class="n">non_archived</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">persons</span><span class="o">.</span><span class="n">list</span><span class="p">(</span>
    <span class="nb">filter</span><span class="o">=~</span><span class="n">F</span><span class="o">.</span><span class="n">field</span><span class="p">(</span><span class="s2">&quot;Archived&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="p">)</span>

<span class="c1"># Complex: (A AND B) OR (C AND D)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">companies</span><span class="o">.</span><span class="n">list</span><span class="p">(</span>
    <span class="nb">filter</span><span class="o">=</span><span class="p">(</span>
        <span class="p">(</span><span class="n">F</span><span class="o">.</span><span class="n">field</span><span class="p">(</span><span class="s2">&quot;Industry&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="s2">&quot;Software&quot;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">F</span><span class="o">.</span><span class="n">field</span><span class="p">(</span><span class="s2">&quot;Region&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="s2">&quot;US&quot;</span><span class="p">))</span>
        <span class="o">|</span> <span class="p">(</span><span class="n">F</span><span class="o">.</span><span class="n">field</span><span class="p">(</span><span class="s2">&quot;Industry&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="s2">&quot;Hardware&quot;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">F</span><span class="o">.</span><span class="n">field</span><span class="p">(</span><span class="s2">&quot;Region&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="s2">&quot;EU&quot;</span><span class="p">))</span>
    <span class="p">)</span>
<span class="p">)</span>
</code></pre></div>
<p><strong>In list (multiple values):</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Match any value in the list</span>
<span class="n">multi_region</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">companies</span><span class="o">.</span><span class="n">list</span><span class="p">(</span>
    <span class="nb">filter</span><span class="o">=</span><span class="n">F</span><span class="o">.</span><span class="n">field</span><span class="p">(</span><span class="s2">&quot;Region&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">in_list</span><span class="p">([</span><span class="s2">&quot;US&quot;</span><span class="p">,</span> <span class="s2">&quot;Canada&quot;</span><span class="p">,</span> <span class="s2">&quot;Mexico&quot;</span><span class="p">])</span>
<span class="p">)</span>
</code></pre></div>
<h2 id="raw-filter-strings">Raw Filter Strings<a class="headerlink" href="#raw-filter-strings" title="Permanent link">&para;</a></h2>
<p>For CLI or advanced SDK use, you can use raw filter strings. The SDK supports both official Affinity V2 API syntax and SDK-specific extensions.</p>
<h3 id="standard-operators-affinity-v2-api-compatible">Standard Operators (Affinity V2 API compatible)<a class="headerlink" href="#standard-operators-affinity-v2-api-compatible" title="Permanent link">&para;</a></h3>
<p>These operators work both with the Affinity API and SDK client-side filtering:</p>
<table>
<thead>
<tr>
<th>Meaning</th>
<th>Operator</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>and</td>
<td><code>&amp;</code></td>
<td><code>field("A") = 1 &amp; field("B") = 2</code></td>
</tr>
<tr>
<td>or</td>
<td><code>\|</code></td>
<td><code>field("A") = 1 \| field("B") = 2</code></td>
</tr>
<tr>
<td>not</td>
<td><code>!</code></td>
<td><code>!(field("A") = 1)</code></td>
</tr>
<tr>
<td>equals</td>
<td><code>=</code></td>
<td><code>field("Industry") = "Software"</code></td>
</tr>
<tr>
<td>not equals</td>
<td><code>!=</code></td>
<td><code>field("Status") != "inactive"</code></td>
</tr>
<tr>
<td>starts with</td>
<td><code>=^</code></td>
<td><code>field("Name") =^ "Ac"</code></td>
</tr>
<tr>
<td>ends with</td>
<td><code>=$</code></td>
<td><code>field("Name") =$ "Inc"</code></td>
</tr>
<tr>
<td>contains</td>
<td><code>=~</code></td>
<td><code>field("Title") =~ "Manager"</code></td>
</tr>
<tr>
<td>greater than</td>
<td><code>&gt;</code></td>
<td><code>field("Count") &gt; 5</code></td>
</tr>
<tr>
<td>greater than or equal</td>
<td><code>&gt;=</code></td>
<td><code>field("Count") &gt;= 5</code></td>
</tr>
<tr>
<td>less than</td>
<td><code>&lt;</code></td>
<td><code>field("Count") &lt; 10</code></td>
</tr>
<tr>
<td>less than or equal</td>
<td><code>&lt;=</code></td>
<td><code>field("Count") &lt;= 10</code></td>
</tr>
<tr>
<td>is NULL</td>
<td><code>!= *</code></td>
<td><code>field("Email") != *</code></td>
</tr>
<tr>
<td>is not NULL</td>
<td><code>= *</code></td>
<td><code>field("Email") = *</code></td>
</tr>
<tr>
<td>is empty string</td>
<td><code>= ""</code></td>
<td><code>field("Notes") = ""</code></td>
</tr>
<tr>
<td>collection exact match</td>
<td><code>= [A, B]</code></td>
<td><code>field("Tags") = [tech, startup]</code></td>
</tr>
<tr>
<td>collection contains all</td>
<td><code>=~ [A, B]</code></td>
<td><code>field("Tags") =~ [tech, startup]</code></td>
</tr>
<tr>
<td>collection empty</td>
<td><code>= []</code></td>
<td><code>field("Tags") = []</code></td>
</tr>
</tbody>
</table>
<h3 id="sdk-extensions-client-side-filtering-only">SDK Extensions (client-side filtering only)<a class="headerlink" href="#sdk-extensions-client-side-filtering-only" title="Permanent link">&para;</a></h3>
<p>These operators are SDK-specific and only work for client-side filtering with <code>--expand-filter</code> or <code>matches()</code>. They do NOT work with the Affinity API.</p>
<h4 id="word-based-aliases-sdk-extension">Word-Based Aliases <code>[SDK Extension]</code><a class="headerlink" href="#word-based-aliases-sdk-extension" title="Permanent link">&para;</a></h4>
<p>Human/LLM-friendly aliases for official operators:</p>
<table>
<thead>
<tr>
<th>Alias</th>
<th>Equivalent</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>contains</code></td>
<td><code>=~</code></td>
<td><code>name contains "Corp"</code></td>
</tr>
<tr>
<td><code>starts_with</code></td>
<td><code>=^</code></td>
<td><code>name starts_with "Acme"</code></td>
</tr>
<tr>
<td><code>ends_with</code></td>
<td><code>=$</code></td>
<td><code>email ends_with "@acme.com"</code></td>
</tr>
<tr>
<td><code>gt</code></td>
<td><code>&gt;</code></td>
<td><code>count gt 5</code></td>
</tr>
<tr>
<td><code>gte</code></td>
<td><code>&gt;=</code></td>
<td><code>count gte 5</code></td>
</tr>
<tr>
<td><code>lt</code></td>
<td><code>&lt;</code></td>
<td><code>count lt 10</code></td>
</tr>
<tr>
<td><code>lte</code></td>
<td><code>&lt;=</code></td>
<td><code>count lte 10</code></td>
</tr>
<tr>
<td><code>is null</code></td>
<td><code>!= *</code></td>
<td><code>email is null</code></td>
</tr>
<tr>
<td><code>is not null</code></td>
<td><code>= *</code></td>
<td><code>email is not null</code></td>
</tr>
<tr>
<td><code>is empty</code></td>
<td><code>= ""</code> or <code>= []</code></td>
<td><code>tags is empty</code></td>
</tr>
</tbody>
</table>
<h4 id="additional-collection-operators-sdk-extension">Additional Collection Operators <code>[SDK Extension]</code><a class="headerlink" href="#additional-collection-operators-sdk-extension" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Operator</th>
<th>Syntax</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>in list</td>
<td><code>in [A, B, C]</code></td>
<td>Value equals any in list</td>
</tr>
<tr>
<td>between</td>
<td><code>between [1, 10]</code></td>
<td>Value in range (inclusive)</td>
</tr>
<tr>
<td>has any</td>
<td><code>has_any [A, B]</code></td>
<td>Array contains any of values (exact match)</td>
</tr>
<tr>
<td>has all</td>
<td><code>has_all [A, B]</code></td>
<td>Array contains all values (exact match)</td>
</tr>
<tr>
<td>contains any</td>
<td><code>contains_any [A, B]</code></td>
<td>Any element contains any substring</td>
</tr>
<tr>
<td>contains all</td>
<td><code>contains_all [A, B]</code></td>
<td>Any element contains all substrings</td>
</tr>
</tbody>
</table>
<p><strong>Example equivalents (prefer official syntax for API portability):</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># These are equivalent:</span>
xaffinity<span class="w"> </span>list<span class="w"> </span><span class="nb">export</span><span class="w"> </span><span class="m">123</span><span class="w"> </span>--expand-filter<span class="w"> </span><span class="s1">&#39;&quot;Team Member&quot; =~ LB&#39;</span><span class="w">       </span><span class="c1"># Official V2 API</span>
xaffinity<span class="w"> </span>list<span class="w"> </span><span class="nb">export</span><span class="w"> </span><span class="m">123</span><span class="w"> </span>--expand-filter<span class="w"> </span><span class="s1">&#39;&quot;Team Member&quot; contains LB&#39;</span><span class="w"> </span><span class="c1"># SDK alias</span>

xaffinity<span class="w"> </span>list<span class="w"> </span><span class="nb">export</span><span class="w"> </span><span class="m">123</span><span class="w"> </span>--expand-filter<span class="w"> </span><span class="s1">&#39;email = *&#39;</span><span class="w">           </span><span class="c1"># Official V2 API</span>
xaffinity<span class="w"> </span>list<span class="w"> </span><span class="nb">export</span><span class="w"> </span><span class="m">123</span><span class="w"> </span>--expand-filter<span class="w"> </span><span class="s1">&#39;email is not null&#39;</span><span class="w">   </span><span class="c1"># SDK alias</span>

xaffinity<span class="w"> </span>list<span class="w"> </span><span class="nb">export</span><span class="w"> </span><span class="m">123</span><span class="w"> </span>--expand-filter<span class="w"> </span><span class="s1">&#39;count &gt; 5&#39;</span><span class="w">   </span><span class="c1"># Official V2 API</span>
xaffinity<span class="w"> </span>list<span class="w"> </span><span class="nb">export</span><span class="w"> </span><span class="m">123</span><span class="w"> </span>--expand-filter<span class="w"> </span><span class="s1">&#39;count gt 5&#39;</span><span class="w">  </span><span class="c1"># SDK alias</span>
</code></pre></div>
<h2 id="cli-examples">CLI Examples<a class="headerlink" href="#cli-examples" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="c1"># Simple filter</span>
xaffinity<span class="w"> </span>person<span class="w"> </span>ls<span class="w"> </span>--filter<span class="w"> </span><span class="s1">&#39;Department = &quot;Sales&quot;&#39;</span>

<span class="c1"># Contains (case-insensitive)</span>
xaffinity<span class="w"> </span>company<span class="w"> </span>ls<span class="w"> </span>--filter<span class="w"> </span><span class="s1">&#39;Industry =~ &quot;tech&quot;&#39;</span>

<span class="c1"># Numeric comparison</span>
xaffinity<span class="w"> </span>opportunity<span class="w"> </span>ls<span class="w"> </span>--filter<span class="w"> </span><span class="s1">&#39;Amount &gt; 100000&#39;</span>

<span class="c1"># Multiple conditions with AND</span>
xaffinity<span class="w"> </span>person<span class="w"> </span>ls<span class="w"> </span>--filter<span class="w"> </span><span class="s1">&#39;Status = &quot;Active&quot; &amp; Department = &quot;Sales&quot;&#39;</span>

<span class="c1"># Multiple conditions with OR</span>
xaffinity<span class="w"> </span>company<span class="w"> </span>ls<span class="w"> </span>--filter<span class="w"> </span><span class="s1">&#39;Region = &quot;US&quot; | Region = &quot;Canada&quot;&#39;</span>

<span class="c1"># Null check</span>
xaffinity<span class="w"> </span>person<span class="w"> </span>ls<span class="w"> </span>--filter<span class="w"> </span><span class="s1">&#39;Manager != *&#39;</span>

<span class="c1"># Collection operators (SDK extension)</span>
xaffinity<span class="w"> </span>list<span class="w"> </span><span class="nb">export</span><span class="w"> </span><span class="m">123</span><span class="w"> </span>--expand-filter<span class="w"> </span><span class="s1">&#39;Status in [Active, Pending]&#39;</span>
xaffinity<span class="w"> </span>list<span class="w"> </span><span class="nb">export</span><span class="w"> </span><span class="m">123</span><span class="w"> </span>--expand-filter<span class="w"> </span><span class="s1">&#39;Tags has_any [priority, urgent]&#39;</span>
</code></pre></div>
<h2 id="what-can-be-filtered">What Can Be Filtered?<a class="headerlink" href="#what-can-be-filtered" title="Permanent link">&para;</a></h2>
<p><strong>Custom fields</strong> (added to entities in Affinity):</p>
<p>Python SDK:
- <code>F.field("Department").equals("Sales")</code>
- <code>F.field("Status").contains("Active")</code></p>
<p>CLI (raw filter syntax):
- <code>Department = "Sales"</code>
- <code>Status =~ "Active"</code></p>
<p><strong>Built-in properties</strong> (cannot be filtered with V2 filter expressions):
- Person: <code>type</code>, <code>firstName</code>, <code>lastName</code>, <code>primaryEmail</code>, <code>emailAddresses</code>
- Company: <code>name</code>, <code>domain</code>, <code>domains</code>
- Opportunity: <code>name</code>, <code>listId</code></p>
<p>For built-in properties, retrieve all data and filter client-side (see <a href="../csv-export/">CSV Export Guide</a> for examples).</p>
<h2 id="filtering-in-list-exports-cli">Filtering in List Exports (CLI)<a class="headerlink" href="#filtering-in-list-exports-cli" title="Permanent link">&para;</a></h2>
<p>The <code>list export</code> command supports two filter options with <strong>identical syntax</strong> but different behavior:</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>What It Filters</th>
<th>Where Filtering Happens</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>--filter</code></td>
<td>List entries</td>
<td>Server-side (API)</td>
</tr>
<tr>
<td><code>--expand-filter</code></td>
<td>Expanded entities (people, companies)</td>
<td>Client-side (after fetch)</td>
</tr>
</tbody>
</table>
<h3 id="why-the-difference">Why the difference?<a class="headerlink" href="#why-the-difference" title="Permanent link">&para;</a></h3>
<p>The Affinity API supports filtering for list entries, but <strong>does not support filtering associations</strong>.</p>
<p>When you use <code>--expand persons</code>, the CLI:</p>
<ol>
<li>Fetches the list entries (can be filtered with <code>--filter</code>)</li>
<li>For each entry, fetches ALL associated people (API returns all, no filter option)</li>
<li>Filters the people locally based on <code>--expand-filter</code></li>
</ol>
<p>This means <code>--expand-filter</code>:</p>
<ul>
<li>Uses the same syntax as <code>--filter</code> for consistency</li>
<li>Is applied after fetching data (doesn't reduce API calls)</li>
<li>Supports SDK extension operators (word aliases, collection operators)</li>
<li>Still useful for reducing output size and focusing on relevant associations</li>
</ul>
<h3 id="example">Example<a class="headerlink" href="#example" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Server-side: only fetch Active opportunities</span>
<span class="c1"># Client-side: only include people with valid email status</span>
xaffinity<span class="w"> </span>list<span class="w"> </span><span class="nb">export</span><span class="w"> </span><span class="m">275454</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--filter<span class="w"> </span><span class="s2">&quot;Status=Active&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--expand<span class="w"> </span>persons<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--expand-filter<span class="w"> </span><span class="s1">&#39;&quot;Primary Email Status&quot;=Valid | &quot;Primary Email Status&quot;=Unknown | &quot;Primary Email Status&quot; is null&#39;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--all<span class="w"> </span>--csv<span class="w"> </span>&gt;<span class="w"> </span>output.csv
</code></pre></div>
<h3 id="performance-consideration">Performance consideration<a class="headerlink" href="#performance-consideration" title="Permanent link">&para;</a></h3>
<p>Since <code>--expand-filter</code> is client-side, all associations are still fetched from the API.
For large lists with many associations, the export may take time even if the filter
reduces the final output significantly. Use <code>--dry-run</code> to estimate API calls.</p>
<h2 id="next-steps">Next steps<a class="headerlink" href="#next-steps" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="../pagination/">Pagination</a></li>
<li><a href="../field-types-and-values/">Field types &amp; values</a></li>
<li><a href="../../examples/">Examples</a></li>
<li><a href="../../reference/filters/">Filters reference</a></li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Disclaimer: Unofficial community project; not affiliated with, endorsed by, or sponsored by Affinity. "Affinity" and related marks are trademarks of their respective owners. Use of the Affinity API is subject to Affinity Terms of Service.
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>