
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Strongly-typed Python SDK for the Affinity CRM API">
      
      
      
      
        <link rel="prev" href="../client/">
      
      
        <link rel="next" href="../types/">
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Exceptions - Affinity Python SDK</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#exceptions" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Affinity Python SDK" class="md-header__button md-logo" aria-label="Affinity Python SDK" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Affinity Python SDK
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Exceptions
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/yaniv-golan/affinity-sdk" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Affinity Python SDK" class="md-nav__button md-logo" aria-label="Affinity Python SDK" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Affinity Python SDK
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/yaniv-golan/affinity-sdk" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Getting started
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Examples
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../glossary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Glossary
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../changelog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Changelog
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    CLI
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    CLI
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/commands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Commands
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/scripting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Scripting
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli-reference/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    JSON Output Reference
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    AI Integrations
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    AI Integrations
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ai-integrations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mcp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    MCP Server
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/claude-code-plugins/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Claude Code Plugins & Skills
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Guides
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    Guides
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/authentication/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Authentication
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/performance/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Performance tuning
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/api-versions-and-routing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    API versions & routing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/pagination/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Pagination
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/errors-and-retries/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Errors & retries
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/rate-limits/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Rate limits
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/filtering/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Filtering
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/query-command/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Query command
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/datetime-handling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Datetime handling
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/csv-export/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CSV Export (CLI)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/field-types-and-values/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Field types & values
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/field-values/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Field values
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/models/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Models
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/ids-and-types/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    IDs & types
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/sync-vs-async/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sync vs async
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/debugging-hooks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Debugging hooks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/webhooks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Webhooks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/opportunity-associations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Opportunity associations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshooting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Troubleshooting
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" checked>
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../client/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Client
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Exceptions
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Exceptions
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions" class="md-nav__link">
    <span class="md-ellipsis">
      
        exceptions
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.AffinityError" class="md-nav__link">
    <span class="md-ellipsis">
      
        AffinityError
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.AuthenticationError" class="md-nav__link">
    <span class="md-ellipsis">
      
        AuthenticationError
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.AuthorizationError" class="md-nav__link">
    <span class="md-ellipsis">
      
        AuthorizationError
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.BetaEndpointDisabledError" class="md-nav__link">
    <span class="md-ellipsis">
      
        BetaEndpointDisabledError
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.CompanyNotFoundError" class="md-nav__link">
    <span class="md-ellipsis">
      
        CompanyNotFoundError
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.ConfigurationError" class="md-nav__link">
    <span class="md-ellipsis">
      
        ConfigurationError
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.ConflictError" class="md-nav__link">
    <span class="md-ellipsis">
      
        ConflictError
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.DeprecationWarning" class="md-nav__link">
    <span class="md-ellipsis">
      
        DeprecationWarning
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.EntityNotFoundError" class="md-nav__link">
    <span class="md-ellipsis">
      
        EntityNotFoundError
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.FieldNotFoundError" class="md-nav__link">
    <span class="md-ellipsis">
      
        FieldNotFoundError
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.FilterParseError" class="md-nav__link">
    <span class="md-ellipsis">
      
        FilterParseError
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FilterParseError">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#affinity.exceptions.FilterParseError--wrong-filter-statusintro-meeting" class="md-nav__link">
    <span class="md-ellipsis">
      
        Wrong: --filter 'Status=Intro Meeting'
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#affinity.exceptions.FilterParseError--right-filter-statusintro-meeting" class="md-nav__link">
    <span class="md-ellipsis">
      
        Right: --filter 'Status="Intro Meeting"'
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.ListNotFoundError" class="md-nav__link">
    <span class="md-ellipsis">
      
        ListNotFoundError
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.NetworkError" class="md-nav__link">
    <span class="md-ellipsis">
      
        NetworkError
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.NotFoundError" class="md-nav__link">
    <span class="md-ellipsis">
      
        NotFoundError
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.OpportunityNotFoundError" class="md-nav__link">
    <span class="md-ellipsis">
      
        OpportunityNotFoundError
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.PersonNotFoundError" class="md-nav__link">
    <span class="md-ellipsis">
      
        PersonNotFoundError
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.PolicyError" class="md-nav__link">
    <span class="md-ellipsis">
      
        PolicyError
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.RateLimitError" class="md-nav__link">
    <span class="md-ellipsis">
      
        RateLimitError
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.ServerError" class="md-nav__link">
    <span class="md-ellipsis">
      
        ServerError
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.TimeoutError" class="md-nav__link">
    <span class="md-ellipsis">
      
        TimeoutError
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.TooManyResultsError" class="md-nav__link">
    <span class="md-ellipsis">
      
        TooManyResultsError
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.UnsafeUrlError" class="md-nav__link">
    <span class="md-ellipsis">
      
        UnsafeUrlError
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.UnsupportedOperationError" class="md-nav__link">
    <span class="md-ellipsis">
      
        UnsupportedOperationError
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.ValidationError" class="md-nav__link">
    <span class="md-ellipsis">
      
        ValidationError
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.VersionCompatibilityError" class="md-nav__link">
    <span class="md-ellipsis">
      
        VersionCompatibilityError
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.WebhookInvalidJsonError" class="md-nav__link">
    <span class="md-ellipsis">
      
        WebhookInvalidJsonError
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.WebhookInvalidPayloadError" class="md-nav__link">
    <span class="md-ellipsis">
      
        WebhookInvalidPayloadError
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.WebhookInvalidSentAtError" class="md-nav__link">
    <span class="md-ellipsis">
      
        WebhookInvalidSentAtError
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.WebhookMissingKeyError" class="md-nav__link">
    <span class="md-ellipsis">
      
        WebhookMissingKeyError
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.WebhookParseError" class="md-nav__link">
    <span class="md-ellipsis">
      
        WebhookParseError
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.WriteNotAllowedError" class="md-nav__link">
    <span class="md-ellipsis">
      
        WriteNotAllowedError
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.error_from_response" class="md-nav__link">
    <span class="md-ellipsis">
      
        error_from_response
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../types/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Types
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../filters/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Filters
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../query-language/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Query Language
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Models
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_7" >
        
          
          <label class="md-nav__link" for="__nav_10_7" id="__nav_10_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Services
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_10_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Services
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../services/companies/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Companies
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../services/persons/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Persons
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../services/lists/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lists
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../services/opportunities/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Opportunities
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../services/tasks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tasks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_7_6" >
        
          
          <label class="md-nav__link" for="__nav_10_7_6" id="__nav_10_7_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    V1 endpoints
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_10_7_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_7_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    V1 endpoints
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../services/v1/notes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Notes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../services/v1/reminders/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Reminders
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../services/v1/webhooks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Webhooks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../services/v1/interactions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Interactions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../services/v1/fields/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Fields
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../services/v1/field-values/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Field values
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../services/v1/files/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Files
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../services/v1/relationships/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Relationships
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../services/v1/auth/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Auth
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions" class="md-nav__link">
    <span class="md-ellipsis">
      
        exceptions
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.AffinityError" class="md-nav__link">
    <span class="md-ellipsis">
      
        AffinityError
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.AuthenticationError" class="md-nav__link">
    <span class="md-ellipsis">
      
        AuthenticationError
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.AuthorizationError" class="md-nav__link">
    <span class="md-ellipsis">
      
        AuthorizationError
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.BetaEndpointDisabledError" class="md-nav__link">
    <span class="md-ellipsis">
      
        BetaEndpointDisabledError
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.CompanyNotFoundError" class="md-nav__link">
    <span class="md-ellipsis">
      
        CompanyNotFoundError
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.ConfigurationError" class="md-nav__link">
    <span class="md-ellipsis">
      
        ConfigurationError
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.ConflictError" class="md-nav__link">
    <span class="md-ellipsis">
      
        ConflictError
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.DeprecationWarning" class="md-nav__link">
    <span class="md-ellipsis">
      
        DeprecationWarning
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.EntityNotFoundError" class="md-nav__link">
    <span class="md-ellipsis">
      
        EntityNotFoundError
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.FieldNotFoundError" class="md-nav__link">
    <span class="md-ellipsis">
      
        FieldNotFoundError
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.FilterParseError" class="md-nav__link">
    <span class="md-ellipsis">
      
        FilterParseError
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FilterParseError">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#affinity.exceptions.FilterParseError--wrong-filter-statusintro-meeting" class="md-nav__link">
    <span class="md-ellipsis">
      
        Wrong: --filter 'Status=Intro Meeting'
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#affinity.exceptions.FilterParseError--right-filter-statusintro-meeting" class="md-nav__link">
    <span class="md-ellipsis">
      
        Right: --filter 'Status="Intro Meeting"'
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.ListNotFoundError" class="md-nav__link">
    <span class="md-ellipsis">
      
        ListNotFoundError
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.NetworkError" class="md-nav__link">
    <span class="md-ellipsis">
      
        NetworkError
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.NotFoundError" class="md-nav__link">
    <span class="md-ellipsis">
      
        NotFoundError
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.OpportunityNotFoundError" class="md-nav__link">
    <span class="md-ellipsis">
      
        OpportunityNotFoundError
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.PersonNotFoundError" class="md-nav__link">
    <span class="md-ellipsis">
      
        PersonNotFoundError
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.PolicyError" class="md-nav__link">
    <span class="md-ellipsis">
      
        PolicyError
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.RateLimitError" class="md-nav__link">
    <span class="md-ellipsis">
      
        RateLimitError
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.ServerError" class="md-nav__link">
    <span class="md-ellipsis">
      
        ServerError
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.TimeoutError" class="md-nav__link">
    <span class="md-ellipsis">
      
        TimeoutError
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.TooManyResultsError" class="md-nav__link">
    <span class="md-ellipsis">
      
        TooManyResultsError
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.UnsafeUrlError" class="md-nav__link">
    <span class="md-ellipsis">
      
        UnsafeUrlError
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.UnsupportedOperationError" class="md-nav__link">
    <span class="md-ellipsis">
      
        UnsupportedOperationError
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.ValidationError" class="md-nav__link">
    <span class="md-ellipsis">
      
        ValidationError
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.VersionCompatibilityError" class="md-nav__link">
    <span class="md-ellipsis">
      
        VersionCompatibilityError
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.WebhookInvalidJsonError" class="md-nav__link">
    <span class="md-ellipsis">
      
        WebhookInvalidJsonError
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.WebhookInvalidPayloadError" class="md-nav__link">
    <span class="md-ellipsis">
      
        WebhookInvalidPayloadError
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.WebhookInvalidSentAtError" class="md-nav__link">
    <span class="md-ellipsis">
      
        WebhookInvalidSentAtError
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.WebhookMissingKeyError" class="md-nav__link">
    <span class="md-ellipsis">
      
        WebhookMissingKeyError
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.WebhookParseError" class="md-nav__link">
    <span class="md-ellipsis">
      
        WebhookParseError
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.WriteNotAllowedError" class="md-nav__link">
    <span class="md-ellipsis">
      
        WriteNotAllowedError
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.exceptions.error_from_response" class="md-nav__link">
    <span class="md-ellipsis">
      
        error_from_response
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="exceptions">Exceptions<a class="headerlink" href="#exceptions" title="Permanent link">&para;</a></h1>


<div class="doc doc-object doc-module">



<a id="affinity.exceptions"></a>
    <div class="doc doc-contents first">

        <p>Custom exceptions for the Affinity API client.</p>
<p>All exceptions inherit from AffinityError for easy catching of all library errors.</p>










<div class="doc doc-children">









<div class="doc doc-object doc-class">



<h2 id="affinity.exceptions.AffinityError" class="doc doc-heading">
            <code>AffinityError</code>


<a href="#affinity.exceptions.AffinityError" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="Exception">Exception</span></code></p>



        <p>Base exception for all Affinity API errors.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/exceptions.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">AffinityError</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base exception for all Affinity API errors.&quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">status_code</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">response_body</span><span class="p">:</span> <span class="n">Any</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">diagnostics</span><span class="p">:</span> <span class="n">ErrorDiagnostics</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">message</span> <span class="o">=</span> <span class="n">message</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">status_code</span> <span class="o">=</span> <span class="n">status_code</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">response_body</span> <span class="o">=</span> <span class="n">response_body</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">diagnostics</span> <span class="o">=</span> <span class="n">diagnostics</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">base</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">message</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">status_code</span><span class="p">:</span>
            <span class="n">base</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;[</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">status_code</span><span class="si">}</span><span class="s2">] </span><span class="si">{</span><span class="n">base</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">diagnostics</span><span class="p">:</span>
            <span class="c1"># Include method + url if both present, or just url if only url present</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">diagnostics</span><span class="o">.</span><span class="n">method</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">diagnostics</span><span class="o">.</span><span class="n">url</span><span class="p">:</span>
                <span class="n">base</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">base</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">diagnostics</span><span class="o">.</span><span class="n">method</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">diagnostics</span><span class="o">.</span><span class="n">url</span><span class="si">}</span><span class="s2">)&quot;</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">diagnostics</span><span class="o">.</span><span class="n">url</span><span class="p">:</span>
                <span class="n">base</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">base</span><span class="si">}</span><span class="s2"> (url=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">diagnostics</span><span class="o">.</span><span class="n">url</span><span class="si">}</span><span class="s2">)&quot;</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">diagnostics</span><span class="o">.</span><span class="n">request_id</span><span class="p">:</span>
                <span class="n">base</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">base</span><span class="si">}</span><span class="s2"> [request_id=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">diagnostics</span><span class="o">.</span><span class="n">request_id</span><span class="si">}</span><span class="s2">]&quot;</span>
        <span class="k">return</span> <span class="n">base</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.exceptions.AuthenticationError" class="doc doc-heading">
            <code>AuthenticationError</code>


<a href="#affinity.exceptions.AuthenticationError" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AffinityError (affinity.exceptions.AffinityError)" href="#affinity.exceptions.AffinityError">AffinityError</a></code></p>



        <p>401 Unauthorized - Invalid or missing API key.</p>
<p>Your API key is invalid or was not provided.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/exceptions.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">AuthenticationError</span><span class="p">(</span><span class="n">AffinityError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    401 Unauthorized - Invalid or missing API key.</span>

<span class="sd">    Your API key is invalid or was not provided.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.exceptions.AuthorizationError" class="doc doc-heading">
            <code>AuthorizationError</code>


<a href="#affinity.exceptions.AuthorizationError" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AffinityError (affinity.exceptions.AffinityError)" href="#affinity.exceptions.AffinityError">AffinityError</a></code></p>



        <p>403 Forbidden - Insufficient permissions.</p>
<p>You don't have permission to access this resource or perform this action.
This can happen with:
- Private lists you don't have access to
- Admin-only actions
- Resource-level permission restrictions</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/exceptions.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">AuthorizationError</span><span class="p">(</span><span class="n">AffinityError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    403 Forbidden - Insufficient permissions.</span>

<span class="sd">    You don&#39;t have permission to access this resource or perform this action.</span>
<span class="sd">    This can happen with:</span>
<span class="sd">    - Private lists you don&#39;t have access to</span>
<span class="sd">    - Admin-only actions</span>
<span class="sd">    - Resource-level permission restrictions</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.exceptions.BetaEndpointDisabledError" class="doc doc-heading">
            <code>BetaEndpointDisabledError</code>


<a href="#affinity.exceptions.BetaEndpointDisabledError" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="UnsupportedOperationError (affinity.exceptions.UnsupportedOperationError)" href="#affinity.exceptions.UnsupportedOperationError">UnsupportedOperationError</a></code></p>



        <p>Attempted to call a beta endpoint without opt-in.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/exceptions.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">BetaEndpointDisabledError</span><span class="p">(</span><span class="n">UnsupportedOperationError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Attempted to call a beta endpoint without opt-in.&quot;&quot;&quot;</span>

    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.exceptions.CompanyNotFoundError" class="doc doc-heading">
            <code>CompanyNotFoundError</code>


<a href="#affinity.exceptions.CompanyNotFoundError" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="EntityNotFoundError (affinity.exceptions.EntityNotFoundError)" href="#affinity.exceptions.EntityNotFoundError">EntityNotFoundError</a></code></p>



        <p>Company with the specified ID was not found.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/exceptions.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">CompanyNotFoundError</span><span class="p">(</span><span class="n">EntityNotFoundError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Company with the specified ID was not found.&quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">company_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="s2">&quot;Company&quot;</span><span class="p">,</span> <span class="n">company_id</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.exceptions.ConfigurationError" class="doc doc-heading">
            <code>ConfigurationError</code>


<a href="#affinity.exceptions.ConfigurationError" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AffinityError (affinity.exceptions.AffinityError)" href="#affinity.exceptions.AffinityError">AffinityError</a></code></p>



        <p>Configuration error - missing or invalid client configuration.</p>
<p>Check that you've provided:
- A valid API key
- Correct base URLs (if customizing)</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/exceptions.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ConfigurationError</span><span class="p">(</span><span class="n">AffinityError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Configuration error - missing or invalid client configuration.</span>

<span class="sd">    Check that you&#39;ve provided:</span>
<span class="sd">    - A valid API key</span>
<span class="sd">    - Correct base URLs (if customizing)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.exceptions.ConflictError" class="doc doc-heading">
            <code>ConflictError</code>


<a href="#affinity.exceptions.ConflictError" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AffinityError (affinity.exceptions.AffinityError)" href="#affinity.exceptions.AffinityError">AffinityError</a></code></p>



        <p>409 Conflict - Resource conflict.</p>
<p>The request conflicts with the current state of the resource.
For example:
- Trying to create a person with an email that already exists
- Concurrent modification conflicts</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/exceptions.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ConflictError</span><span class="p">(</span><span class="n">AffinityError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    409 Conflict - Resource conflict.</span>

<span class="sd">    The request conflicts with the current state of the resource.</span>
<span class="sd">    For example:</span>
<span class="sd">    - Trying to create a person with an email that already exists</span>
<span class="sd">    - Concurrent modification conflicts</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.exceptions.DeprecationWarning" class="doc doc-heading">
            <code>DeprecationWarning</code>


<a href="#affinity.exceptions.DeprecationWarning" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AffinityError (affinity.exceptions.AffinityError)" href="#affinity.exceptions.AffinityError">AffinityError</a></code></p>



        <p>Feature is deprecated and may be removed.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/exceptions.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">DeprecationWarning</span><span class="p">(</span><span class="n">AffinityError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Feature is deprecated and may be removed.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.exceptions.EntityNotFoundError" class="doc doc-heading">
            <code>EntityNotFoundError</code>


<a href="#affinity.exceptions.EntityNotFoundError" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="NotFoundError (affinity.exceptions.NotFoundError)" href="#affinity.exceptions.NotFoundError">NotFoundError</a></code></p>



        <p>Specific entity not found.</p>
<p>Provides type-safe context about which entity type was not found.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/exceptions.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">EntityNotFoundError</span><span class="p">(</span><span class="n">NotFoundError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Specific entity not found.</span>

<span class="sd">    Provides type-safe context about which entity type was not found.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">entity_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">entity_id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">str</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="n">message</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">entity_type</span><span class="si">}</span><span class="s2"> with ID </span><span class="si">{</span><span class="n">entity_id</span><span class="si">}</span><span class="s2"> not found&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entity_type</span> <span class="o">=</span> <span class="n">entity_type</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entity_id</span> <span class="o">=</span> <span class="n">entity_id</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.exceptions.FieldNotFoundError" class="doc doc-heading">
            <code>FieldNotFoundError</code>


<a href="#affinity.exceptions.FieldNotFoundError" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="NotFoundError (affinity.exceptions.NotFoundError)" href="#affinity.exceptions.NotFoundError">NotFoundError</a></code></p>



        <p>Field with the specified ID was not found.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/exceptions.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">FieldNotFoundError</span><span class="p">(</span><span class="n">NotFoundError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Field with the specified ID was not found.&quot;&quot;&quot;</span>

    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.exceptions.FilterParseError" class="doc doc-heading">
            <code>FilterParseError</code>


<a href="#affinity.exceptions.FilterParseError" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="ValueError">ValueError</span></code></p>



        <p>Raised when a filter expression cannot be parsed.</p>
<p>Common causes:
- Multi-word values not quoted: Status=Intro Meeting
- Invalid operators
- Malformed expressions</p>


<details class="example-fix" open>
  <summary>Example fix</summary>
  <h3 id="affinity.exceptions.FilterParseError--wrong-filter-statusintro-meeting">Wrong: --filter 'Status=Intro Meeting'<a class="headerlink" href="#affinity.exceptions.FilterParseError--wrong-filter-statusintro-meeting" title="Permanent link">&para;</a></h3>
<h3 id="affinity.exceptions.FilterParseError--right-filter-statusintro-meeting">Right: --filter 'Status="Intro Meeting"'<a class="headerlink" href="#affinity.exceptions.FilterParseError--right-filter-statusintro-meeting" title="Permanent link">&para;</a></h3>
</details>







              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/exceptions.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">FilterParseError</span><span class="p">(</span><span class="ne">ValueError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Raised when a filter expression cannot be parsed.</span>

<span class="sd">    Common causes:</span>
<span class="sd">    - Multi-word values not quoted: Status=Intro Meeting</span>
<span class="sd">    - Invalid operators</span>
<span class="sd">    - Malformed expressions</span>

<span class="sd">    Example fix:</span>
<span class="sd">        # Wrong: --filter &#39;Status=Intro Meeting&#39;</span>
<span class="sd">        # Right: --filter &#39;Status=&quot;Intro Meeting&quot;&#39;</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
              </details>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.exceptions.ListNotFoundError" class="doc doc-heading">
            <code>ListNotFoundError</code>


<a href="#affinity.exceptions.ListNotFoundError" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="NotFoundError (affinity.exceptions.NotFoundError)" href="#affinity.exceptions.NotFoundError">NotFoundError</a></code></p>



        <p>List with the specified ID was not found.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/exceptions.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ListNotFoundError</span><span class="p">(</span><span class="n">NotFoundError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List with the specified ID was not found.&quot;&quot;&quot;</span>

    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.exceptions.NetworkError" class="doc doc-heading">
            <code>NetworkError</code>


<a href="#affinity.exceptions.NetworkError" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AffinityError (affinity.exceptions.AffinityError)" href="#affinity.exceptions.AffinityError">AffinityError</a></code></p>



        <p>Network-level error.</p>
<p>Failed to connect to the Affinity API.
Check your internet connection and firewall settings.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/exceptions.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">NetworkError</span><span class="p">(</span><span class="n">AffinityError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Network-level error.</span>

<span class="sd">    Failed to connect to the Affinity API.</span>
<span class="sd">    Check your internet connection and firewall settings.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">diagnostics</span><span class="p">:</span> <span class="n">ErrorDiagnostics</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">diagnostics</span><span class="o">=</span><span class="n">diagnostics</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.exceptions.NotFoundError" class="doc doc-heading">
            <code>NotFoundError</code>


<a href="#affinity.exceptions.NotFoundError" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AffinityError (affinity.exceptions.AffinityError)" href="#affinity.exceptions.AffinityError">AffinityError</a></code></p>



        <p>404 Not Found - Resource doesn't exist.</p>
<p>The requested resource (person, company, list, etc.) was not found.
This could mean:
- The ID is invalid
- The resource was deleted
- You don't have access to view it</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/exceptions.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span>
<span class="normal">95</span>
<span class="normal">96</span>
<span class="normal">97</span>
<span class="normal">98</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">NotFoundError</span><span class="p">(</span><span class="n">AffinityError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    404 Not Found - Resource doesn&#39;t exist.</span>

<span class="sd">    The requested resource (person, company, list, etc.) was not found.</span>
<span class="sd">    This could mean:</span>
<span class="sd">    - The ID is invalid</span>
<span class="sd">    - The resource was deleted</span>
<span class="sd">    - You don&#39;t have access to view it</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.exceptions.OpportunityNotFoundError" class="doc doc-heading">
            <code>OpportunityNotFoundError</code>


<a href="#affinity.exceptions.OpportunityNotFoundError" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="EntityNotFoundError (affinity.exceptions.EntityNotFoundError)" href="#affinity.exceptions.EntityNotFoundError">EntityNotFoundError</a></code></p>



        <p>Opportunity with the specified ID was not found.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/exceptions.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">OpportunityNotFoundError</span><span class="p">(</span><span class="n">EntityNotFoundError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Opportunity with the specified ID was not found.&quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">opportunity_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="s2">&quot;Opportunity&quot;</span><span class="p">,</span> <span class="n">opportunity_id</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.exceptions.PersonNotFoundError" class="doc doc-heading">
            <code>PersonNotFoundError</code>


<a href="#affinity.exceptions.PersonNotFoundError" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="EntityNotFoundError (affinity.exceptions.EntityNotFoundError)" href="#affinity.exceptions.EntityNotFoundError">EntityNotFoundError</a></code></p>



        <p>Person with the specified ID was not found.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/exceptions.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">PersonNotFoundError</span><span class="p">(</span><span class="n">EntityNotFoundError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Person with the specified ID was not found.&quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">person_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="s2">&quot;Person&quot;</span><span class="p">,</span> <span class="n">person_id</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.exceptions.PolicyError" class="doc doc-heading">
            <code>PolicyError</code>


<a href="#affinity.exceptions.PolicyError" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AffinityError (affinity.exceptions.AffinityError)" href="#affinity.exceptions.AffinityError">AffinityError</a></code></p>



        <p>Raised when a client policy blocks an attempted operation.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/exceptions.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">PolicyError</span><span class="p">(</span><span class="n">AffinityError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when a client policy blocks an attempted operation.&quot;&quot;&quot;</span>

    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.exceptions.RateLimitError" class="doc doc-heading">
            <code>RateLimitError</code>


<a href="#affinity.exceptions.RateLimitError" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AffinityError (affinity.exceptions.AffinityError)" href="#affinity.exceptions.AffinityError">AffinityError</a></code></p>



        <p>429 Too Many Requests - Rate limit exceeded.</p>
<p>You've exceeded the API rate limit. Wait before retrying.
Check the response headers for rate limit info:
- X-Ratelimit-Limit-User-Reset: Seconds until per-minute limit resets
- X-Ratelimit-Limit-Org-Reset: Seconds until monthly limit resets</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/exceptions.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">RateLimitError</span><span class="p">(</span><span class="n">AffinityError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    429 Too Many Requests - Rate limit exceeded.</span>

<span class="sd">    You&#39;ve exceeded the API rate limit. Wait before retrying.</span>
<span class="sd">    Check the response headers for rate limit info:</span>
<span class="sd">    - X-Ratelimit-Limit-User-Reset: Seconds until per-minute limit resets</span>
<span class="sd">    - X-Ratelimit-Limit-Org-Reset: Seconds until monthly limit resets</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">retry_after</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">status_code</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">response_body</span><span class="p">:</span> <span class="n">Any</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">diagnostics</span><span class="p">:</span> <span class="n">ErrorDiagnostics</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">message</span><span class="p">,</span>
            <span class="n">status_code</span><span class="o">=</span><span class="n">status_code</span><span class="p">,</span>
            <span class="n">response_body</span><span class="o">=</span><span class="n">response_body</span><span class="p">,</span>
            <span class="n">diagnostics</span><span class="o">=</span><span class="n">diagnostics</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">retry_after</span> <span class="o">=</span> <span class="n">retry_after</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.exceptions.ServerError" class="doc doc-heading">
            <code>ServerError</code>


<a href="#affinity.exceptions.ServerError" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AffinityError (affinity.exceptions.AffinityError)" href="#affinity.exceptions.AffinityError">AffinityError</a></code></p>



        <p>500/503 Internal Server Error - Server-side problem.</p>
<p>Something went wrong on Affinity's servers.
Try again later, and contact support if the problem persists.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/exceptions.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ServerError</span><span class="p">(</span><span class="n">AffinityError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    500/503 Internal Server Error - Server-side problem.</span>

<span class="sd">    Something went wrong on Affinity&#39;s servers.</span>
<span class="sd">    Try again later, and contact support if the problem persists.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.exceptions.TimeoutError" class="doc doc-heading">
            <code>TimeoutError</code>


<a href="#affinity.exceptions.TimeoutError" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AffinityError (affinity.exceptions.AffinityError)" href="#affinity.exceptions.AffinityError">AffinityError</a></code></p>



        <p>Request timeout.</p>
<p>The request took too long to complete.
This could be due to:
- Network issues
- Large data sets
- Server overload</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/exceptions.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">TimeoutError</span><span class="p">(</span><span class="n">AffinityError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Request timeout.</span>

<span class="sd">    The request took too long to complete.</span>
<span class="sd">    This could be due to:</span>
<span class="sd">    - Network issues</span>
<span class="sd">    - Large data sets</span>
<span class="sd">    - Server overload</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">diagnostics</span><span class="p">:</span> <span class="n">ErrorDiagnostics</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">diagnostics</span><span class="o">=</span><span class="n">diagnostics</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.exceptions.TooManyResultsError" class="doc doc-heading">
            <code>TooManyResultsError</code>


<a href="#affinity.exceptions.TooManyResultsError" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AffinityError (affinity.exceptions.AffinityError)" href="#affinity.exceptions.AffinityError">AffinityError</a></code></p>



        <p>Raised when <code>.all()</code> exceeds the limit.</p>
<p>The default limit is 100,000 items (approximately 100MB for typical Person objects).
This protects against OOM errors when paginating large datasets.</p>
<p>To resolve:
- Use <code>.pages()</code> for streaming iteration (memory-efficient)
- Add filters to reduce result size
- Pass <code>limit=None</code> to <code>.all()</code> if you're certain you need all results
- Pass a custom <code>limit=500_000</code> if you need more than the default</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/exceptions.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">TooManyResultsError</span><span class="p">(</span><span class="n">AffinityError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Raised when ``.all()`` exceeds the limit.</span>

<span class="sd">    The default limit is 100,000 items (approximately 100MB for typical Person objects).</span>
<span class="sd">    This protects against OOM errors when paginating large datasets.</span>

<span class="sd">    To resolve:</span>
<span class="sd">    - Use ``.pages()`` for streaming iteration (memory-efficient)</span>
<span class="sd">    - Add filters to reduce result size</span>
<span class="sd">    - Pass ``limit=None`` to ``.all()`` if you&#39;re certain you need all results</span>
<span class="sd">    - Pass a custom ``limit=500_000`` if you need more than the default</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.exceptions.UnsafeUrlError" class="doc doc-heading">
            <code>UnsafeUrlError</code>


<a href="#affinity.exceptions.UnsafeUrlError" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AffinityError (affinity.exceptions.AffinityError)" href="#affinity.exceptions.AffinityError">AffinityError</a></code></p>



        <p>SDK blocked following a server-provided URL.</p>
<p>Raised when SafeFollowUrl policy rejects a URL (scheme/host/userinfo/redirect).</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/exceptions.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">UnsafeUrlError</span><span class="p">(</span><span class="n">AffinityError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    SDK blocked following a server-provided URL.</span>

<span class="sd">    Raised when SafeFollowUrl policy rejects a URL (scheme/host/userinfo/redirect).</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">message</span><span class="p">,</span>
            <span class="n">diagnostics</span><span class="o">=</span><span class="n">ErrorDiagnostics</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">)</span> <span class="k">if</span> <span class="n">url</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="n">url</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.exceptions.UnsupportedOperationError" class="doc doc-heading">
            <code>UnsupportedOperationError</code>


<a href="#affinity.exceptions.UnsupportedOperationError" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AffinityError (affinity.exceptions.AffinityError)" href="#affinity.exceptions.AffinityError">AffinityError</a></code></p>



        <p>Operation not supported by the current API version.</p>
<p>Some operations are only available in V1 or V2.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/exceptions.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">UnsupportedOperationError</span><span class="p">(</span><span class="n">AffinityError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Operation not supported by the current API version.</span>

<span class="sd">    Some operations are only available in V1 or V2.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.exceptions.ValidationError" class="doc doc-heading">
            <code>ValidationError</code>


<a href="#affinity.exceptions.ValidationError" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AffinityError (affinity.exceptions.AffinityError)" href="#affinity.exceptions.AffinityError">AffinityError</a></code></p>



        <p>400/422 Bad Request/Unprocessable Entity - Invalid request data.</p>
<p>The request data is malformed or logically invalid.
Check the error message for details about what's wrong.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/exceptions.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ValidationError</span><span class="p">(</span><span class="n">AffinityError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    400/422 Bad Request/Unprocessable Entity - Invalid request data.</span>

<span class="sd">    The request data is malformed or logically invalid.</span>
<span class="sd">    Check the error message for details about what&#39;s wrong.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">param</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">status_code</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">response_body</span><span class="p">:</span> <span class="n">Any</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">diagnostics</span><span class="p">:</span> <span class="n">ErrorDiagnostics</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">message</span><span class="p">,</span>
            <span class="n">status_code</span><span class="o">=</span><span class="n">status_code</span><span class="p">,</span>
            <span class="n">response_body</span><span class="o">=</span><span class="n">response_body</span><span class="p">,</span>
            <span class="n">diagnostics</span><span class="o">=</span><span class="n">diagnostics</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">param</span> <span class="o">=</span> <span class="n">param</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">base</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__str__</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">param</span><span class="p">:</span>
            <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">base</span><span class="si">}</span><span class="s2"> (param: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">param</span><span class="si">}</span><span class="s2">)&quot;</span>
        <span class="k">return</span> <span class="n">base</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.exceptions.VersionCompatibilityError" class="doc doc-heading">
            <code>VersionCompatibilityError</code>


<a href="#affinity.exceptions.VersionCompatibilityError" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AffinityError (affinity.exceptions.AffinityError)" href="#affinity.exceptions.AffinityError">AffinityError</a></code></p>



        <p>Response shape mismatch suggests API version incompatibility.</p>
<p>TR-015: Raised when the SDK detects response-shape mismatches that
appear version-related. This typically means the API key's configured
v2 Default API Version differs from what the SDK expects.</p>
<p>Guidance:
1. Check your API key's v2 Default API Version in the Affinity dashboard
2. Ensure it matches the expected_v2_version configured in the SDK
3. See: https://developer.affinity.co/#section/Getting-Started/Versioning</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/exceptions.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">VersionCompatibilityError</span><span class="p">(</span><span class="n">AffinityError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Response shape mismatch suggests API version incompatibility.</span>

<span class="sd">    TR-015: Raised when the SDK detects response-shape mismatches that</span>
<span class="sd">    appear version-related. This typically means the API key&#39;s configured</span>
<span class="sd">    v2 Default API Version differs from what the SDK expects.</span>

<span class="sd">    Guidance:</span>
<span class="sd">    1. Check your API key&#39;s v2 Default API Version in the Affinity dashboard</span>
<span class="sd">    2. Ensure it matches the expected_v2_version configured in the SDK</span>
<span class="sd">    3. See: https://developer.affinity.co/#section/Getting-Started/Versioning</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">expected_version</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">parsing_error</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">status_code</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">response_body</span><span class="p">:</span> <span class="n">Any</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">diagnostics</span><span class="p">:</span> <span class="n">ErrorDiagnostics</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">message</span><span class="p">,</span>
            <span class="n">status_code</span><span class="o">=</span><span class="n">status_code</span><span class="p">,</span>
            <span class="n">response_body</span><span class="o">=</span><span class="n">response_body</span><span class="p">,</span>
            <span class="n">diagnostics</span><span class="o">=</span><span class="n">diagnostics</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">expected_version</span> <span class="o">=</span> <span class="n">expected_version</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parsing_error</span> <span class="o">=</span> <span class="n">parsing_error</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">base</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__str__</span><span class="p">()</span>
        <span class="n">hints</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">expected_version</span><span class="p">:</span>
            <span class="n">hints</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;expected_v2_version=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">expected_version</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">parsing_error</span><span class="p">:</span>
            <span class="n">hints</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;parsing_error=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">parsing_error</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">hints</span><span class="p">:</span>
            <span class="n">base</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">base</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">hints</span><span class="p">)</span><span class="si">}</span><span class="s2">)&quot;</span>
        <span class="k">return</span> <span class="n">base</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.exceptions.WebhookInvalidJsonError" class="doc doc-heading">
            <code>WebhookInvalidJsonError</code>


<a href="#affinity.exceptions.WebhookInvalidJsonError" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="WebhookParseError (affinity.exceptions.WebhookParseError)" href="#affinity.exceptions.WebhookParseError">WebhookParseError</a></code></p>



        <p>Raised when a webhook payload cannot be decoded as JSON.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/exceptions.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">WebhookInvalidJsonError</span><span class="p">(</span><span class="n">WebhookParseError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when a webhook payload cannot be decoded as JSON.&quot;&quot;&quot;</span>

    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.exceptions.WebhookInvalidPayloadError" class="doc doc-heading">
            <code>WebhookInvalidPayloadError</code>


<a href="#affinity.exceptions.WebhookInvalidPayloadError" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="WebhookParseError (affinity.exceptions.WebhookParseError)" href="#affinity.exceptions.WebhookParseError">WebhookParseError</a></code></p>



        <p>Raised when a decoded webhook payload is not in the expected envelope shape.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/exceptions.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">WebhookInvalidPayloadError</span><span class="p">(</span><span class="n">WebhookParseError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when a decoded webhook payload is not in the expected envelope shape.&quot;&quot;&quot;</span>

    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.exceptions.WebhookInvalidSentAtError" class="doc doc-heading">
            <code>WebhookInvalidSentAtError</code>


<a href="#affinity.exceptions.WebhookInvalidSentAtError" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="WebhookParseError (affinity.exceptions.WebhookParseError)" href="#affinity.exceptions.WebhookParseError">WebhookParseError</a></code></p>



        <p>Raised when a webhook <code>sent_at</code> field is missing or invalid.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/exceptions.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">WebhookInvalidSentAtError</span><span class="p">(</span><span class="n">WebhookParseError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when a webhook `sent_at` field is missing or invalid.&quot;&quot;&quot;</span>

    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.exceptions.WebhookMissingKeyError" class="doc doc-heading">
            <code>WebhookMissingKeyError</code>


<a href="#affinity.exceptions.WebhookMissingKeyError" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="WebhookParseError (affinity.exceptions.WebhookParseError)" href="#affinity.exceptions.WebhookParseError">WebhookParseError</a></code></p>



        <p>Raised when a webhook payload is missing a required key.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/exceptions.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">WebhookMissingKeyError</span><span class="p">(</span><span class="n">WebhookParseError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when a webhook payload is missing a required key.&quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">key</span> <span class="o">=</span> <span class="n">key</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.exceptions.WebhookParseError" class="doc doc-heading">
            <code>WebhookParseError</code>


<a href="#affinity.exceptions.WebhookParseError" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AffinityError (affinity.exceptions.AffinityError)" href="#affinity.exceptions.AffinityError">AffinityError</a></code></p>



        <p>Base error for inbound webhook parsing/validation failures.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/exceptions.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">WebhookParseError</span><span class="p">(</span><span class="n">AffinityError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base error for inbound webhook parsing/validation failures.&quot;&quot;&quot;</span>

    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.exceptions.WriteNotAllowedError" class="doc doc-heading">
            <code>WriteNotAllowedError</code>


<a href="#affinity.exceptions.WriteNotAllowedError" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="PolicyError (affinity.exceptions.PolicyError)" href="#affinity.exceptions.PolicyError">PolicyError</a></code></p>



        <p>Raised when a write operation is attempted while the write policy denies writes.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/exceptions.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">WriteNotAllowedError</span><span class="p">(</span><span class="n">PolicyError</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Raised when a write operation is attempted while the write policy denies writes.&quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">method</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">url</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">diagnostics</span><span class="o">=</span><span class="n">ErrorDiagnostics</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="n">method</span><span class="p">,</span> <span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">method</span> <span class="o">=</span> <span class="n">method</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="n">url</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>


<div class="doc doc-object doc-function">


<h2 id="affinity.exceptions.error_from_response" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">error_from_response</span><span class="p">(</span><span class="n">status_code</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">response_body</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">retry_after</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">diagnostics</span><span class="p">:</span> <span class="n">ErrorDiagnostics</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AffinityError</span></code>

<a href="#affinity.exceptions.error_from_response" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

        <p>Create the appropriate exception from an API error response.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>status_code</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>HTTP status code</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>response_body</code>
            </td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Parsed response body (usually dict with 'errors')</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>retry_after</code>
            </td>
            <td>
                  <code><span title="int">int</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Retry-After header value for rate limits</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="AffinityError (affinity.exceptions.AffinityError)" href="#affinity.exceptions.AffinityError">AffinityError</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Appropriate AffinityError subclass</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>affinity/exceptions.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">error_from_response</span><span class="p">(</span>
    <span class="n">status_code</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">response_body</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">retry_after</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">diagnostics</span><span class="p">:</span> <span class="n">ErrorDiagnostics</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AffinityError</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create the appropriate exception from an API error response.</span>

<span class="sd">    Args:</span>
<span class="sd">        status_code: HTTP status code</span>
<span class="sd">        response_body: Parsed response body (usually dict with &#39;errors&#39;)</span>
<span class="sd">        retry_after: Retry-After header value for rate limits</span>

<span class="sd">    Returns:</span>
<span class="sd">        Appropriate AffinityError subclass</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Try to extract message from response</span>
    <span class="n">message</span> <span class="o">=</span> <span class="s2">&quot;Unknown error&quot;</span>
    <span class="n">param</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">extracted</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">response_body</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
        <span class="n">errors</span> <span class="o">=</span> <span class="n">response_body</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;errors&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">errors</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="ow">and</span> <span class="n">errors</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">errors</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
                    <span class="n">msg</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;message&quot;</span><span class="p">)</span>
                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="n">msg</span><span class="o">.</span><span class="n">strip</span><span class="p">():</span>
                        <span class="n">message</span> <span class="o">=</span> <span class="n">msg</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
                        <span class="n">p</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;param&quot;</span><span class="p">)</span>
                        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="n">p</span><span class="o">.</span><span class="n">strip</span><span class="p">():</span>
                            <span class="n">param</span> <span class="o">=</span> <span class="n">p</span>
                        <span class="n">extracted</span> <span class="o">=</span> <span class="kc">True</span>
                        <span class="k">break</span>
                <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="n">item</span><span class="o">.</span><span class="n">strip</span><span class="p">():</span>
                    <span class="n">message</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
                    <span class="n">extracted</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="k">break</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">extracted</span><span class="p">:</span>
            <span class="n">top_message</span> <span class="o">=</span> <span class="n">response_body</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;message&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">top_message</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="n">top_message</span><span class="o">.</span><span class="n">strip</span><span class="p">():</span>
                <span class="n">message</span> <span class="o">=</span> <span class="n">top_message</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
                <span class="n">extracted</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">detail</span> <span class="o">=</span> <span class="n">response_body</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;detail&quot;</span><span class="p">)</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">detail</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="n">detail</span><span class="o">.</span><span class="n">strip</span><span class="p">():</span>
                    <span class="n">message</span> <span class="o">=</span> <span class="n">detail</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
                    <span class="n">extracted</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">error_obj</span> <span class="o">=</span> <span class="n">response_body</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error&quot;</span><span class="p">)</span>
                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">error_obj</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
                        <span class="n">nested_message</span> <span class="o">=</span> <span class="n">error_obj</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;message&quot;</span><span class="p">)</span>
                        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">nested_message</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="n">nested_message</span><span class="o">.</span><span class="n">strip</span><span class="p">():</span>
                            <span class="n">message</span> <span class="o">=</span> <span class="n">nested_message</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
                            <span class="n">extracted</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">error_obj</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="n">error_obj</span><span class="o">.</span><span class="n">strip</span><span class="p">():</span>
                        <span class="n">message</span> <span class="o">=</span> <span class="n">error_obj</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
                        <span class="n">extracted</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">extracted</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">response_body</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="ow">and</span> <span class="n">response_body</span><span class="p">:</span>
        <span class="n">first</span> <span class="o">=</span> <span class="n">response_body</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">first</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="n">first</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;message&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">first</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;error&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">first</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;detail&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="n">msg</span><span class="o">.</span><span class="n">strip</span><span class="p">():</span>
                <span class="n">message</span> <span class="o">=</span> <span class="n">msg</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
                <span class="n">extracted</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">first</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="n">first</span><span class="o">.</span><span class="n">strip</span><span class="p">():</span>
            <span class="n">message</span> <span class="o">=</span> <span class="n">first</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="n">extracted</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">if</span> <span class="p">(</span>
        <span class="n">message</span> <span class="o">==</span> <span class="s2">&quot;Unknown error&quot;</span>
        <span class="ow">and</span> <span class="n">diagnostics</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">diagnostics</span><span class="o">.</span><span class="n">response_body_snippet</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span>
    <span class="p">):</span>
        <span class="n">snippet</span> <span class="o">=</span> <span class="n">diagnostics</span><span class="o">.</span><span class="n">response_body_snippet</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">snippet</span> <span class="ow">and</span> <span class="n">snippet</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">{</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;[]&quot;</span><span class="p">}:</span>
            <span class="n">message</span> <span class="o">=</span> <span class="n">snippet</span>

    <span class="c1"># Map status codes to exceptions</span>
    <span class="n">error_mapping</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">type</span><span class="p">[</span><span class="n">AffinityError</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="mi">400</span><span class="p">:</span> <span class="n">ValidationError</span><span class="p">,</span>
        <span class="mi">401</span><span class="p">:</span> <span class="n">AuthenticationError</span><span class="p">,</span>
        <span class="mi">403</span><span class="p">:</span> <span class="n">AuthorizationError</span><span class="p">,</span>
        <span class="mi">404</span><span class="p">:</span> <span class="n">NotFoundError</span><span class="p">,</span>
        <span class="mi">409</span><span class="p">:</span> <span class="n">ConflictError</span><span class="p">,</span>
        <span class="mi">422</span><span class="p">:</span> <span class="n">ValidationError</span><span class="p">,</span>
        <span class="mi">429</span><span class="p">:</span> <span class="n">RateLimitError</span><span class="p">,</span>
        <span class="mi">500</span><span class="p">:</span> <span class="n">ServerError</span><span class="p">,</span>
        <span class="mi">502</span><span class="p">:</span> <span class="n">ServerError</span><span class="p">,</span>
        <span class="mi">503</span><span class="p">:</span> <span class="n">ServerError</span><span class="p">,</span>
        <span class="mi">504</span><span class="p">:</span> <span class="n">ServerError</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="n">error_class</span> <span class="o">=</span> <span class="n">error_mapping</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">status_code</span><span class="p">,</span> <span class="n">AffinityError</span><span class="p">)</span>

    <span class="c1"># Special handling for ValidationError with param</span>
    <span class="k">if</span> <span class="n">error_class</span> <span class="ow">is</span> <span class="n">ValidationError</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">ValidationError</span><span class="p">(</span>
            <span class="n">message</span><span class="p">,</span>
            <span class="n">param</span><span class="o">=</span><span class="n">param</span><span class="p">,</span>
            <span class="n">status_code</span><span class="o">=</span><span class="n">status_code</span><span class="p">,</span>
            <span class="n">response_body</span><span class="o">=</span><span class="n">response_body</span><span class="p">,</span>
            <span class="n">diagnostics</span><span class="o">=</span><span class="n">diagnostics</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="c1"># Special handling for RateLimitError with retry_after</span>
    <span class="k">if</span> <span class="n">error_class</span> <span class="ow">is</span> <span class="n">RateLimitError</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">RateLimitError</span><span class="p">(</span>
            <span class="n">message</span><span class="p">,</span>
            <span class="n">retry_after</span><span class="o">=</span><span class="n">retry_after</span><span class="p">,</span>
            <span class="n">status_code</span><span class="o">=</span><span class="n">status_code</span><span class="p">,</span>
            <span class="n">response_body</span><span class="o">=</span><span class="n">response_body</span><span class="p">,</span>
            <span class="n">diagnostics</span><span class="o">=</span><span class="n">diagnostics</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">error_class</span><span class="p">(</span>
        <span class="n">message</span><span class="p">,</span>
        <span class="n">status_code</span><span class="o">=</span><span class="n">status_code</span><span class="p">,</span>
        <span class="n">response_body</span><span class="o">=</span><span class="n">response_body</span><span class="p">,</span>
        <span class="n">diagnostics</span><span class="o">=</span><span class="n">diagnostics</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Disclaimer: Unofficial community project; not affiliated with, endorsed by, or sponsored by Affinity. "Affinity" and related marks are trademarks of their respective owners. Use of the Affinity API is subject to Affinity Terms of Service.
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>