
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Strongly-typed Python SDK for the Affinity CRM API">
      
      
      
      
        <link rel="prev" href="../query-language/">
      
      
        <link rel="next" href="../services/companies/">
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Models - Affinity Python SDK</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#models" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Affinity Python SDK" class="md-header__button md-logo" aria-label="Affinity Python SDK" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Affinity Python SDK
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Models
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/yaniv-golan/affinity-sdk" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Affinity Python SDK" class="md-nav__button md-logo" aria-label="Affinity Python SDK" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Affinity Python SDK
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/yaniv-golan/affinity-sdk" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Getting started
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../examples/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Examples
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../glossary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Glossary
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../changelog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Changelog
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    CLI
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    CLI
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/commands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Commands
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/scripting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Scripting
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli-reference/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    JSON Output Reference
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    AI Integrations
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    AI Integrations
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ai-integrations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mcp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    MCP Server
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/claude-code-plugins/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Claude Code Plugins & Skills
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Guides
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    Guides
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/authentication/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Authentication
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/performance/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Performance tuning
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/api-versions-and-routing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    API versions & routing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/pagination/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Pagination
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/errors-and-retries/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Errors & retries
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/rate-limits/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Rate limits
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/filtering/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Filtering
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/query-command/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Query command
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/datetime-handling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Datetime handling
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/csv-export/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CSV Export (CLI)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/field-types-and-values/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Field types & values
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/field-values/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Field values
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/models/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Models
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/ids-and-types/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    IDs & types
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/sync-vs-async/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sync vs async
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/debugging-hooks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Debugging hooks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/webhooks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Webhooks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/opportunity-associations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Opportunity associations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshooting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Troubleshooting
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" checked>
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../client/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Client
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../exceptions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Exceptions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../types/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Types
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../filters/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Filters
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../query-language/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Query Language
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Models
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Models
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#affinity.models" class="md-nav__link">
    <span class="md-ellipsis">
      
        models
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.AffinityList" class="md-nav__link">
    <span class="md-ellipsis">
      
        AffinityList
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="AffinityList">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#affinity.models.AffinityList.model_post_init" class="md-nav__link">
    <span class="md-ellipsis">
      
        model_post_init
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.AffinityModel" class="md-nav__link">
    <span class="md-ellipsis">
      
        AffinityModel
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.AsyncPageIterator" class="md-nav__link">
    <span class="md-ellipsis">
      
        AsyncPageIterator
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="AsyncPageIterator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#affinity.models.AsyncPageIterator.all" class="md-nav__link">
    <span class="md-ellipsis">
      
        all
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="all">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#affinity.models.AsyncPageIterator.all--default-safe-for-most-use-cases" class="md-nav__link">
    <span class="md-ellipsis">
      
        Default - safe for most use cases
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#affinity.models.AsyncPageIterator.all--or-use-all-method-with-limit-check" class="md-nav__link">
    <span class="md-ellipsis">
      
        Or use .all() method with limit check
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#affinity.models.AsyncPageIterator.all--explicit-unlimited-for-large-exports" class="md-nav__link">
    <span class="md-ellipsis">
      
        Explicit unlimited for large exports
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#affinity.models.AsyncPageIterator.all--custom-limit" class="md-nav__link">
    <span class="md-ellipsis">
      
        Custom limit
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#affinity.models.AsyncPageIterator.pages" class="md-nav__link">
    <span class="md-ellipsis">
      
        pages
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.BatchOperationResponse" class="md-nav__link">
    <span class="md-ellipsis">
      
        BatchOperationResponse
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.BatchOperationResult" class="md-nav__link">
    <span class="md-ellipsis">
      
        BatchOperationResult
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.Company" class="md-nav__link">
    <span class="md-ellipsis">
      
        Company
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.CompanyCreate" class="md-nav__link">
    <span class="md-ellipsis">
      
        CompanyCreate
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.CompanyUpdate" class="md-nav__link">
    <span class="md-ellipsis">
      
        CompanyUpdate
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.DropdownOption" class="md-nav__link">
    <span class="md-ellipsis">
      
        DropdownOption
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.EntityFile" class="md-nav__link">
    <span class="md-ellipsis">
      
        EntityFile
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.FieldCreate" class="md-nav__link">
    <span class="md-ellipsis">
      
        FieldCreate
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.FieldMetadata" class="md-nav__link">
    <span class="md-ellipsis">
      
        FieldMetadata
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.FieldValue" class="md-nav__link">
    <span class="md-ellipsis">
      
        FieldValue
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.FieldValueChange" class="md-nav__link">
    <span class="md-ellipsis">
      
        FieldValueChange
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.FieldValueCreate" class="md-nav__link">
    <span class="md-ellipsis">
      
        FieldValueCreate
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.Grant" class="md-nav__link">
    <span class="md-ellipsis">
      
        Grant
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Grant">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#affinity.models.Grant.scope" class="md-nav__link">
    <span class="md-ellipsis">
      
        scope
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.Interaction" class="md-nav__link">
    <span class="md-ellipsis">
      
        Interaction
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.InteractionCreate" class="md-nav__link">
    <span class="md-ellipsis">
      
        InteractionCreate
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.InteractionUpdate" class="md-nav__link">
    <span class="md-ellipsis">
      
        InteractionUpdate
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.ListCreate" class="md-nav__link">
    <span class="md-ellipsis">
      
        ListCreate
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.ListEntry" class="md-nav__link">
    <span class="md-ellipsis">
      
        ListEntry
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.ListEntryCreate" class="md-nav__link">
    <span class="md-ellipsis">
      
        ListEntryCreate
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.ListEntryWithEntity" class="md-nav__link">
    <span class="md-ellipsis">
      
        ListEntryWithEntity
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.ListPermission" class="md-nav__link">
    <span class="md-ellipsis">
      
        ListPermission
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.ListSummary" class="md-nav__link">
    <span class="md-ellipsis">
      
        ListSummary
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.Note" class="md-nav__link">
    <span class="md-ellipsis">
      
        Note
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.NoteCreate" class="md-nav__link">
    <span class="md-ellipsis">
      
        NoteCreate
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.NoteUpdate" class="md-nav__link">
    <span class="md-ellipsis">
      
        NoteUpdate
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.Opportunity" class="md-nav__link">
    <span class="md-ellipsis">
      
        Opportunity
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.OpportunityCreate" class="md-nav__link">
    <span class="md-ellipsis">
      
        OpportunityCreate
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.OpportunitySummary" class="md-nav__link">
    <span class="md-ellipsis">
      
        OpportunitySummary
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.OpportunityUpdate" class="md-nav__link">
    <span class="md-ellipsis">
      
        OpportunityUpdate
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.PageIterator" class="md-nav__link">
    <span class="md-ellipsis">
      
        PageIterator
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PageIterator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#affinity.models.PageIterator.all" class="md-nav__link">
    <span class="md-ellipsis">
      
        all
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="all">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#affinity.models.PageIterator.all--default-safe-for-most-use-cases" class="md-nav__link">
    <span class="md-ellipsis">
      
        Default - safe for most use cases
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#affinity.models.PageIterator.all--or-use-all-method-with-limit-check" class="md-nav__link">
    <span class="md-ellipsis">
      
        Or use .all() method with limit check
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#affinity.models.PageIterator.all--explicit-unlimited-for-large-exports" class="md-nav__link">
    <span class="md-ellipsis">
      
        Explicit unlimited for large exports
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#affinity.models.PageIterator.all--custom-limit" class="md-nav__link">
    <span class="md-ellipsis">
      
        Custom limit
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#affinity.models.PageIterator.pages" class="md-nav__link">
    <span class="md-ellipsis">
      
        pages
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.PaginatedResponse" class="md-nav__link">
    <span class="md-ellipsis">
      
        PaginatedResponse
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PaginatedResponse">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#affinity.models.PaginatedResponse.filter_stats" class="md-nav__link">
    <span class="md-ellipsis">
      
        filter_stats
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#affinity.models.PaginatedResponse.has_next" class="md-nav__link">
    <span class="md-ellipsis">
      
        has_next
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#affinity.models.PaginatedResponse.next_cursor" class="md-nav__link">
    <span class="md-ellipsis">
      
        next_cursor
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#affinity.models.PaginatedResponse.__len__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __len__
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.PaginationInfo" class="md-nav__link">
    <span class="md-ellipsis">
      
        PaginationInfo
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.PaginationProgress" class="md-nav__link">
    <span class="md-ellipsis">
      
        PaginationProgress
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PaginationProgress">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#affinity.models.PaginationProgress.has_next" class="md-nav__link">
    <span class="md-ellipsis">
      
        has_next
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#affinity.models.PaginationProgress.items_in_page" class="md-nav__link">
    <span class="md-ellipsis">
      
        items_in_page
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#affinity.models.PaginationProgress.items_so_far" class="md-nav__link">
    <span class="md-ellipsis">
      
        items_so_far
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#affinity.models.PaginationProgress.page_number" class="md-nav__link">
    <span class="md-ellipsis">
      
        page_number
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.Person" class="md-nav__link">
    <span class="md-ellipsis">
      
        Person
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Person">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#affinity.models.Person.full_name" class="md-nav__link">
    <span class="md-ellipsis">
      
        full_name
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.PersonCreate" class="md-nav__link">
    <span class="md-ellipsis">
      
        PersonCreate
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.PersonUpdate" class="md-nav__link">
    <span class="md-ellipsis">
      
        PersonUpdate
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.RateLimitBucket" class="md-nav__link">
    <span class="md-ellipsis">
      
        RateLimitBucket
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.RateLimitInfo" class="md-nav__link">
    <span class="md-ellipsis">
      
        RateLimitInfo
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.RateLimitSnapshot" class="md-nav__link">
    <span class="md-ellipsis">
      
        RateLimitSnapshot
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.RateLimits" class="md-nav__link">
    <span class="md-ellipsis">
      
        RateLimits
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.RelationshipStrength" class="md-nav__link">
    <span class="md-ellipsis">
      
        RelationshipStrength
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.Reminder" class="md-nav__link">
    <span class="md-ellipsis">
      
        Reminder
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.ReminderCreate" class="md-nav__link">
    <span class="md-ellipsis">
      
        ReminderCreate
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.ReminderUpdate" class="md-nav__link">
    <span class="md-ellipsis">
      
        ReminderUpdate
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.SavedView" class="md-nav__link">
    <span class="md-ellipsis">
      
        SavedView
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.Tenant" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tenant
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.WebhookCreate" class="md-nav__link">
    <span class="md-ellipsis">
      
        WebhookCreate
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.WebhookSubscription" class="md-nav__link">
    <span class="md-ellipsis">
      
        WebhookSubscription
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.WebhookUpdate" class="md-nav__link">
    <span class="md-ellipsis">
      
        WebhookUpdate
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.WhoAmI" class="md-nav__link">
    <span class="md-ellipsis">
      
        WhoAmI
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_7" >
        
          
          <label class="md-nav__link" for="__nav_10_7" id="__nav_10_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Services
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_10_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Services
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../services/companies/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Companies
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../services/persons/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Persons
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../services/lists/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lists
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../services/opportunities/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Opportunities
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../services/tasks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tasks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_7_6" >
        
          
          <label class="md-nav__link" for="__nav_10_7_6" id="__nav_10_7_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    V1 endpoints
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_10_7_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10_7_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    V1 endpoints
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../services/v1/notes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Notes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../services/v1/reminders/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Reminders
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../services/v1/webhooks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Webhooks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../services/v1/interactions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Interactions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../services/v1/fields/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Fields
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../services/v1/field-values/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Field values
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../services/v1/files/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Files
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../services/v1/relationships/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Relationships
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../services/v1/auth/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Auth
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#affinity.models" class="md-nav__link">
    <span class="md-ellipsis">
      
        models
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.AffinityList" class="md-nav__link">
    <span class="md-ellipsis">
      
        AffinityList
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="AffinityList">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#affinity.models.AffinityList.model_post_init" class="md-nav__link">
    <span class="md-ellipsis">
      
        model_post_init
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.AffinityModel" class="md-nav__link">
    <span class="md-ellipsis">
      
        AffinityModel
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.AsyncPageIterator" class="md-nav__link">
    <span class="md-ellipsis">
      
        AsyncPageIterator
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="AsyncPageIterator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#affinity.models.AsyncPageIterator.all" class="md-nav__link">
    <span class="md-ellipsis">
      
        all
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="all">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#affinity.models.AsyncPageIterator.all--default-safe-for-most-use-cases" class="md-nav__link">
    <span class="md-ellipsis">
      
        Default - safe for most use cases
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#affinity.models.AsyncPageIterator.all--or-use-all-method-with-limit-check" class="md-nav__link">
    <span class="md-ellipsis">
      
        Or use .all() method with limit check
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#affinity.models.AsyncPageIterator.all--explicit-unlimited-for-large-exports" class="md-nav__link">
    <span class="md-ellipsis">
      
        Explicit unlimited for large exports
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#affinity.models.AsyncPageIterator.all--custom-limit" class="md-nav__link">
    <span class="md-ellipsis">
      
        Custom limit
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#affinity.models.AsyncPageIterator.pages" class="md-nav__link">
    <span class="md-ellipsis">
      
        pages
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.BatchOperationResponse" class="md-nav__link">
    <span class="md-ellipsis">
      
        BatchOperationResponse
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.BatchOperationResult" class="md-nav__link">
    <span class="md-ellipsis">
      
        BatchOperationResult
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.Company" class="md-nav__link">
    <span class="md-ellipsis">
      
        Company
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.CompanyCreate" class="md-nav__link">
    <span class="md-ellipsis">
      
        CompanyCreate
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.CompanyUpdate" class="md-nav__link">
    <span class="md-ellipsis">
      
        CompanyUpdate
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.DropdownOption" class="md-nav__link">
    <span class="md-ellipsis">
      
        DropdownOption
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.EntityFile" class="md-nav__link">
    <span class="md-ellipsis">
      
        EntityFile
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.FieldCreate" class="md-nav__link">
    <span class="md-ellipsis">
      
        FieldCreate
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.FieldMetadata" class="md-nav__link">
    <span class="md-ellipsis">
      
        FieldMetadata
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.FieldValue" class="md-nav__link">
    <span class="md-ellipsis">
      
        FieldValue
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.FieldValueChange" class="md-nav__link">
    <span class="md-ellipsis">
      
        FieldValueChange
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.FieldValueCreate" class="md-nav__link">
    <span class="md-ellipsis">
      
        FieldValueCreate
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.Grant" class="md-nav__link">
    <span class="md-ellipsis">
      
        Grant
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Grant">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#affinity.models.Grant.scope" class="md-nav__link">
    <span class="md-ellipsis">
      
        scope
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.Interaction" class="md-nav__link">
    <span class="md-ellipsis">
      
        Interaction
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.InteractionCreate" class="md-nav__link">
    <span class="md-ellipsis">
      
        InteractionCreate
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.InteractionUpdate" class="md-nav__link">
    <span class="md-ellipsis">
      
        InteractionUpdate
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.ListCreate" class="md-nav__link">
    <span class="md-ellipsis">
      
        ListCreate
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.ListEntry" class="md-nav__link">
    <span class="md-ellipsis">
      
        ListEntry
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.ListEntryCreate" class="md-nav__link">
    <span class="md-ellipsis">
      
        ListEntryCreate
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.ListEntryWithEntity" class="md-nav__link">
    <span class="md-ellipsis">
      
        ListEntryWithEntity
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.ListPermission" class="md-nav__link">
    <span class="md-ellipsis">
      
        ListPermission
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.ListSummary" class="md-nav__link">
    <span class="md-ellipsis">
      
        ListSummary
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.Note" class="md-nav__link">
    <span class="md-ellipsis">
      
        Note
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.NoteCreate" class="md-nav__link">
    <span class="md-ellipsis">
      
        NoteCreate
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.NoteUpdate" class="md-nav__link">
    <span class="md-ellipsis">
      
        NoteUpdate
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.Opportunity" class="md-nav__link">
    <span class="md-ellipsis">
      
        Opportunity
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.OpportunityCreate" class="md-nav__link">
    <span class="md-ellipsis">
      
        OpportunityCreate
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.OpportunitySummary" class="md-nav__link">
    <span class="md-ellipsis">
      
        OpportunitySummary
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.OpportunityUpdate" class="md-nav__link">
    <span class="md-ellipsis">
      
        OpportunityUpdate
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.PageIterator" class="md-nav__link">
    <span class="md-ellipsis">
      
        PageIterator
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PageIterator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#affinity.models.PageIterator.all" class="md-nav__link">
    <span class="md-ellipsis">
      
        all
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="all">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#affinity.models.PageIterator.all--default-safe-for-most-use-cases" class="md-nav__link">
    <span class="md-ellipsis">
      
        Default - safe for most use cases
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#affinity.models.PageIterator.all--or-use-all-method-with-limit-check" class="md-nav__link">
    <span class="md-ellipsis">
      
        Or use .all() method with limit check
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#affinity.models.PageIterator.all--explicit-unlimited-for-large-exports" class="md-nav__link">
    <span class="md-ellipsis">
      
        Explicit unlimited for large exports
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#affinity.models.PageIterator.all--custom-limit" class="md-nav__link">
    <span class="md-ellipsis">
      
        Custom limit
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#affinity.models.PageIterator.pages" class="md-nav__link">
    <span class="md-ellipsis">
      
        pages
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.PaginatedResponse" class="md-nav__link">
    <span class="md-ellipsis">
      
        PaginatedResponse
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PaginatedResponse">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#affinity.models.PaginatedResponse.filter_stats" class="md-nav__link">
    <span class="md-ellipsis">
      
        filter_stats
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#affinity.models.PaginatedResponse.has_next" class="md-nav__link">
    <span class="md-ellipsis">
      
        has_next
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#affinity.models.PaginatedResponse.next_cursor" class="md-nav__link">
    <span class="md-ellipsis">
      
        next_cursor
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#affinity.models.PaginatedResponse.__len__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __len__
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.PaginationInfo" class="md-nav__link">
    <span class="md-ellipsis">
      
        PaginationInfo
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.PaginationProgress" class="md-nav__link">
    <span class="md-ellipsis">
      
        PaginationProgress
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PaginationProgress">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#affinity.models.PaginationProgress.has_next" class="md-nav__link">
    <span class="md-ellipsis">
      
        has_next
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#affinity.models.PaginationProgress.items_in_page" class="md-nav__link">
    <span class="md-ellipsis">
      
        items_in_page
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#affinity.models.PaginationProgress.items_so_far" class="md-nav__link">
    <span class="md-ellipsis">
      
        items_so_far
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#affinity.models.PaginationProgress.page_number" class="md-nav__link">
    <span class="md-ellipsis">
      
        page_number
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.Person" class="md-nav__link">
    <span class="md-ellipsis">
      
        Person
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Person">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#affinity.models.Person.full_name" class="md-nav__link">
    <span class="md-ellipsis">
      
        full_name
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.PersonCreate" class="md-nav__link">
    <span class="md-ellipsis">
      
        PersonCreate
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.PersonUpdate" class="md-nav__link">
    <span class="md-ellipsis">
      
        PersonUpdate
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.RateLimitBucket" class="md-nav__link">
    <span class="md-ellipsis">
      
        RateLimitBucket
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.RateLimitInfo" class="md-nav__link">
    <span class="md-ellipsis">
      
        RateLimitInfo
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.RateLimitSnapshot" class="md-nav__link">
    <span class="md-ellipsis">
      
        RateLimitSnapshot
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.RateLimits" class="md-nav__link">
    <span class="md-ellipsis">
      
        RateLimits
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.RelationshipStrength" class="md-nav__link">
    <span class="md-ellipsis">
      
        RelationshipStrength
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.Reminder" class="md-nav__link">
    <span class="md-ellipsis">
      
        Reminder
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.ReminderCreate" class="md-nav__link">
    <span class="md-ellipsis">
      
        ReminderCreate
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.ReminderUpdate" class="md-nav__link">
    <span class="md-ellipsis">
      
        ReminderUpdate
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.SavedView" class="md-nav__link">
    <span class="md-ellipsis">
      
        SavedView
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.Tenant" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tenant
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.WebhookCreate" class="md-nav__link">
    <span class="md-ellipsis">
      
        WebhookCreate
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.WebhookSubscription" class="md-nav__link">
    <span class="md-ellipsis">
      
        WebhookSubscription
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.WebhookUpdate" class="md-nav__link">
    <span class="md-ellipsis">
      
        WebhookUpdate
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#affinity.models.WhoAmI" class="md-nav__link">
    <span class="md-ellipsis">
      
        WhoAmI
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="models">Models<a class="headerlink" href="#models" title="Permanent link">&para;</a></h1>


<div class="doc doc-object doc-module">



<a id="affinity.models"></a>
    <div class="doc doc-contents first">

        <p>Affinity data models.</p>
<p>All Pydantic models are available from this module.</p>


<details class="tip" open>
  <summary>Tip</summary>
  <p>ID types and enums live in <code>affinity.types</code>.</p>
</details>









<div class="doc doc-children">









<div class="doc doc-object doc-class">



<h2 id="affinity.models.AffinityList" class="doc doc-heading">
            <code>AffinityList</code>


<a href="#affinity.models.AffinityList" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AffinityModel (affinity.models.entities.AffinityModel)" href="#affinity.models.AffinityModel">AffinityModel</a></code></p>



        <p>A list (spreadsheet) in Affinity.</p>
<p>Named AffinityList to avoid collision with Python's list type.</p>


<details class="note" open>
  <summary>Note</summary>
  <p>The list_size field was removed in v0.13.0 because the V2 API returns
incorrect values (often 0 for non-empty lists). Use
<code>client.lists.get_size(list_id)</code> to get accurate list size via V1 API.</p>
</details>







              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/models/entities.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">AffinityList</span><span class="p">(</span><span class="n">AffinityModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A list (spreadsheet) in Affinity.</span>

<span class="sd">    Named AffinityList to avoid collision with Python&#39;s list type.</span>

<span class="sd">    Note:</span>
<span class="sd">        The list_size field was removed in v0.13.0 because the V2 API returns</span>
<span class="sd">        incorrect values (often 0 for non-empty lists). Use</span>
<span class="sd">        ``client.lists.get_size(list_id)`` to get accurate list size via V1 API.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nb">id</span><span class="p">:</span> <span class="n">ListId</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="nb">type</span><span class="p">:</span> <span class="n">ListType</span>
    <span class="n">is_public</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;public&quot;</span><span class="p">)</span>
    <span class="n">owner_id</span><span class="p">:</span> <span class="n">UserId</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;ownerId&quot;</span><span class="p">)</span>
    <span class="n">creator_id</span><span class="p">:</span> <span class="n">UserId</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;creatorId&quot;</span><span class="p">)</span>

    <span class="c1"># Fields on this list (returned for single list fetch)</span>
    <span class="n">fields</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">FieldMetadata</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># Permissions</span>
    <span class="n">additional_permissions</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">ListPermission</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;additionalPermissions&quot;</span>
    <span class="p">)</span>

    <span class="c1"># Internal - not guaranteed accurate from V2. Excluded from serialization.</span>
    <span class="c1"># Populated from listSize (V2) or list_size (V1) via model_validator + model_post_init.</span>
    <span class="n">_list_size_hint</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

    <span class="c1"># Temporary field to pass list_size from validator to model_post_init (excluded from output)</span>
    <span class="n">list_size_temp</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">exclude</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="nb">repr</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="nd">@model_validator</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;before&quot;</span><span class="p">)</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_extract_list_size</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="c1"># V2 list endpoints use `isPublic`; v1 uses `public`.</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">):</span>
            <span class="n">data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
            <span class="k">if</span> <span class="s2">&quot;public&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">data</span> <span class="ow">and</span> <span class="s2">&quot;isPublic&quot;</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
                <span class="n">data</span><span class="p">[</span><span class="s2">&quot;public&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;isPublic&quot;</span><span class="p">)</span>
            <span class="c1"># Extract listSize and pass via temp field (V2 uses listSize, V1 uses list_size)</span>
            <span class="k">if</span> <span class="s2">&quot;listSize&quot;</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
                <span class="n">data</span><span class="p">[</span><span class="s2">&quot;list_size_temp&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;listSize&quot;</span><span class="p">)</span>
            <span class="k">elif</span> <span class="s2">&quot;list_size&quot;</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
                <span class="n">data</span><span class="p">[</span><span class="s2">&quot;list_size_temp&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;list_size&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">data</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">model_post_init</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">__context</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Transfer list_size_temp to _list_size_hint private attr.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_size_temp</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="nb">object</span><span class="o">.</span><span class="fm">__setattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;_list_size_hint&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_size_temp</span><span class="p">)</span>
            <span class="c1"># Clear the temp field</span>
            <span class="nb">object</span><span class="o">.</span><span class="fm">__setattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;list_size_temp&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="affinity.models.AffinityList.model_post_init" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">model_post_init</span><span class="p">(</span><span class="n">__context</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span></code>

<a href="#affinity.models.AffinityList.model_post_init" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Transfer list_size_temp to _list_size_hint private attr.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>affinity/models/entities.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">model_post_init</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">__context</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Transfer list_size_temp to _list_size_hint private attr.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_size_temp</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">object</span><span class="o">.</span><span class="fm">__setattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;_list_size_hint&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_size_temp</span><span class="p">)</span>
        <span class="c1"># Clear the temp field</span>
        <span class="nb">object</span><span class="o">.</span><span class="fm">__setattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;list_size_temp&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.models.AffinityModel" class="doc doc-heading">
            <code>AffinityModel</code>


<a href="#affinity.models.AffinityModel" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>



        <p>Base model with common configuration.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/models/entities.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">AffinityModel</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base model with common configuration.&quot;&quot;&quot;</span>

    <span class="n">model_config</span> <span class="o">=</span> <span class="n">ConfigDict</span><span class="p">(</span>
        <span class="n">extra</span><span class="o">=</span><span class="s2">&quot;ignore&quot;</span><span class="p">,</span>  <span class="c1"># Ignore unknown fields from API</span>
        <span class="n">populate_by_name</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>  <span class="c1"># Allow both alias and field name</span>
        <span class="n">use_enum_values</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>  <span class="c1"># Serialize enums as values</span>
        <span class="n">validate_assignment</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>  <span class="c1"># Validate on attribute assignment</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.models.AsyncPageIterator" class="doc doc-heading">
            <code>AsyncPageIterator</code>


<a href="#affinity.models.AsyncPageIterator" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="typing.Generic">Generic</span>[<span title="affinity.models.pagination.T">T</span>]</code></p>



        <p>Asynchronous iterator that automatically fetches all pages.</p>


<details class="usage" open>
  <summary>Usage</summary>
  <p>async for item in client.companies.all():
    print(item.name)</p>
</details>







              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/models/pagination.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">AsyncPageIterator</span><span class="p">(</span><span class="n">Generic</span><span class="p">[</span><span class="n">T</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Asynchronous iterator that automatically fetches all pages.</span>

<span class="sd">    Usage:</span>
<span class="sd">        async for item in client.companies.all():</span>
<span class="sd">            print(item.name)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">fetch_page</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">],</span> <span class="n">Awaitable</span><span class="p">[</span><span class="n">PaginatedResponse</span><span class="p">[</span><span class="n">T</span><span class="p">]]],</span>
        <span class="n">initial_cursor</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_fetch_page</span> <span class="o">=</span> <span class="n">fetch_page</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_next_cursor</span> <span class="o">=</span> <span class="n">initial_cursor</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_current_page</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">T</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_index</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_exhausted</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__aiter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncIterator</span><span class="p">[</span><span class="n">T</span><span class="p">]:</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="fm">__anext__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">T</span><span class="p">:</span>
        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
            <span class="c1"># If we have items in current page, return next</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_index</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_current_page</span><span class="p">):</span>
                <span class="n">item</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_current_page</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_index</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_index</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">return</span> <span class="n">item</span>

            <span class="c1"># Need to fetch next page</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_exhausted</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">StopAsyncIteration</span>

            <span class="n">requested_url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_next_cursor</span>
            <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fetch_page</span><span class="p">(</span><span class="n">requested_url</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_current_page</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_next_cursor</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">next_cursor</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_index</span> <span class="o">=</span> <span class="mi">0</span>

            <span class="c1"># Guard against pagination loops (no cursor progress).</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">has_next</span> <span class="ow">and</span> <span class="n">response</span><span class="o">.</span><span class="n">next_cursor</span> <span class="o">==</span> <span class="n">requested_url</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_exhausted</span> <span class="o">=</span> <span class="kc">True</span>

            <span class="c1"># Empty pages can still legitimately include nextUrl; keep paging</span>
            <span class="c1"># until we get data or the cursor is exhausted.</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_current_page</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">has_next</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_exhausted</span><span class="p">:</span>
                    <span class="k">continue</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_exhausted</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="k">raise</span> <span class="ne">StopAsyncIteration</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">response</span><span class="o">.</span><span class="n">has_next</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_exhausted</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">pages</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">on_progress</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">PaginationProgress</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncIterator</span><span class="p">[</span><span class="n">PaginatedResponse</span><span class="p">[</span><span class="n">T</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Iterate through pages (not individual items).</span>

<span class="sd">        Args:</span>
<span class="sd">            on_progress: Optional callback fired after fetching each page.</span>
<span class="sd">                Receives PaginationProgress with page_number, items_in_page,</span>
<span class="sd">                items_so_far, and has_next. Callbacks should be lightweight;</span>
<span class="sd">                heavy processing should happen outside the callback to avoid</span>
<span class="sd">                blocking iteration.</span>

<span class="sd">        Yields:</span>
<span class="sd">            PaginatedResponse objects for each page.</span>

<span class="sd">        Example:</span>
<span class="sd">            def report(p: PaginationProgress):</span>
<span class="sd">                print(f&quot;Page {p.page_number}: {p.items_so_far} items so far&quot;)</span>

<span class="sd">            async for page in client.persons.all().pages(on_progress=report):</span>
<span class="sd">                process(page.data)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">page_number</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">items_so_far</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
            <span class="n">requested_url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_next_cursor</span>
            <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fetch_page</span><span class="p">(</span><span class="n">requested_url</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_next_cursor</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">next_cursor</span>
            <span class="n">page_number</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">items_in_page</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
            <span class="n">items_so_far</span> <span class="o">+=</span> <span class="n">items_in_page</span>

            <span class="c1"># Guard against pagination loops</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">has_next</span> <span class="ow">and</span> <span class="n">response</span><span class="o">.</span><span class="n">next_cursor</span> <span class="o">==</span> <span class="n">requested_url</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">data</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">on_progress</span><span class="p">:</span>
                        <span class="n">on_progress</span><span class="p">(</span>
                            <span class="n">PaginationProgress</span><span class="p">(</span>
                                <span class="n">page_number</span><span class="o">=</span><span class="n">page_number</span><span class="p">,</span>
                                <span class="n">items_in_page</span><span class="o">=</span><span class="n">items_in_page</span><span class="p">,</span>
                                <span class="n">items_so_far</span><span class="o">=</span><span class="n">items_so_far</span><span class="p">,</span>
                                <span class="n">has_next</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>  <span class="c1"># Loop detected, no more pages</span>
                            <span class="p">)</span>
                        <span class="p">)</span>
                    <span class="k">yield</span> <span class="n">response</span>
                <span class="k">break</span>

            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">data</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">on_progress</span><span class="p">:</span>
                    <span class="n">on_progress</span><span class="p">(</span>
                        <span class="n">PaginationProgress</span><span class="p">(</span>
                            <span class="n">page_number</span><span class="o">=</span><span class="n">page_number</span><span class="p">,</span>
                            <span class="n">items_in_page</span><span class="o">=</span><span class="n">items_in_page</span><span class="p">,</span>
                            <span class="n">items_so_far</span><span class="o">=</span><span class="n">items_so_far</span><span class="p">,</span>
                            <span class="n">has_next</span><span class="o">=</span><span class="n">response</span><span class="o">.</span><span class="n">has_next</span><span class="p">,</span>
                        <span class="p">)</span>
                    <span class="p">)</span>
                <span class="k">yield</span> <span class="n">response</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">response</span><span class="o">.</span><span class="n">has_next</span><span class="p">:</span>
                <span class="k">break</span>

    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">all</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">_DEFAULT_LIMIT</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">T</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Fetch all items across all pages into a list.</span>

<span class="sd">        Args:</span>
<span class="sd">            limit: Maximum items to fetch. Default 100,000. Set to None for unlimited.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List of all items.</span>

<span class="sd">        Raises:</span>
<span class="sd">            TooManyResultsError: If results exceed limit.</span>

<span class="sd">        Note:</span>
<span class="sd">            The check occurs after extending results, so the final list may exceed</span>
<span class="sd">            limit by up to one page before the error is raised.</span>

<span class="sd">        Example:</span>
<span class="sd">            # Default - safe for most use cases</span>
<span class="sd">            persons = [p async for p in client.persons.all()]  # Using async iterator</span>

<span class="sd">            # Or use .all() method with limit check</span>
<span class="sd">            it = AsyncPageIterator(fetch_page)</span>
<span class="sd">            persons = await it.all()  # Returns list, raises if &gt; 100k</span>

<span class="sd">            # Explicit unlimited for large exports</span>
<span class="sd">            all_persons = await it.all(limit=None)</span>

<span class="sd">            # Custom limit</span>
<span class="sd">            persons = await it.all(limit=500_000)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">results</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">T</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">async</span> <span class="k">for</span> <span class="n">page</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">pages</span><span class="p">():</span>
            <span class="n">results</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">page</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">limit</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">results</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">limit</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">TooManyResultsError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Exceeded limit=</span><span class="si">{</span><span class="n">limit</span><span class="si">:</span><span class="s2">,</span><span class="si">}</span><span class="s2"> items. &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;Use pages() for streaming, add a filter, or pass limit=None.&quot;</span>
                <span class="p">)</span>

        <span class="k">return</span> <span class="n">results</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="affinity.models.AsyncPageIterator.all" class="doc doc-heading">
            <code class="highlight language-python"><span class="nb">all</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">_DEFAULT_LIMIT</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">T</span><span class="p">]</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

<a href="#affinity.models.AsyncPageIterator.all" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Fetch all items across all pages into a list.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>limit</code>
            </td>
            <td>
                  <code><span title="int">int</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Maximum items to fetch. Default 100,000. Set to None for unlimited.</p>
              </div>
            </td>
            <td>
                  <code><span title="affinity.models.pagination._DEFAULT_LIMIT">_DEFAULT_LIMIT</span></code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="list">list</span>[<span title="affinity.models.pagination.T">T</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of all items.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="TooManyResultsError (affinity.exceptions.TooManyResultsError)" href="../exceptions/#affinity.exceptions.TooManyResultsError">TooManyResultsError</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If results exceed limit.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="note" open>
  <summary>Note</summary>
  <p>The check occurs after extending results, so the final list may exceed
limit by up to one page before the error is raised.</p>
</details>

<details class="example" open>
  <summary>Example</summary>
  <h4 id="affinity.models.AsyncPageIterator.all--default-safe-for-most-use-cases">Default - safe for most use cases<a class="headerlink" href="#affinity.models.AsyncPageIterator.all--default-safe-for-most-use-cases" title="Permanent link">&para;</a></h4>
<p>persons = [p async for p in client.persons.all()]  # Using async iterator</p>
<h4 id="affinity.models.AsyncPageIterator.all--or-use-all-method-with-limit-check">Or use .all() method with limit check<a class="headerlink" href="#affinity.models.AsyncPageIterator.all--or-use-all-method-with-limit-check" title="Permanent link">&para;</a></h4>
<p>it = AsyncPageIterator(fetch_page)
persons = await it.all()  # Returns list, raises if &gt; 100k</p>
<h4 id="affinity.models.AsyncPageIterator.all--explicit-unlimited-for-large-exports">Explicit unlimited for large exports<a class="headerlink" href="#affinity.models.AsyncPageIterator.all--explicit-unlimited-for-large-exports" title="Permanent link">&para;</a></h4>
<p>all_persons = await it.all(limit=None)</p>
<h4 id="affinity.models.AsyncPageIterator.all--custom-limit">Custom limit<a class="headerlink" href="#affinity.models.AsyncPageIterator.all--custom-limit" title="Permanent link">&para;</a></h4>
<p>persons = await it.all(limit=500_000)</p>
</details>

            <details class="mkdocstrings-source">
              <summary>Source code in <code>affinity/models/pagination.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">all</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">_DEFAULT_LIMIT</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">T</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Fetch all items across all pages into a list.</span>

<span class="sd">    Args:</span>
<span class="sd">        limit: Maximum items to fetch. Default 100,000. Set to None for unlimited.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List of all items.</span>

<span class="sd">    Raises:</span>
<span class="sd">        TooManyResultsError: If results exceed limit.</span>

<span class="sd">    Note:</span>
<span class="sd">        The check occurs after extending results, so the final list may exceed</span>
<span class="sd">        limit by up to one page before the error is raised.</span>

<span class="sd">    Example:</span>
<span class="sd">        # Default - safe for most use cases</span>
<span class="sd">        persons = [p async for p in client.persons.all()]  # Using async iterator</span>

<span class="sd">        # Or use .all() method with limit check</span>
<span class="sd">        it = AsyncPageIterator(fetch_page)</span>
<span class="sd">        persons = await it.all()  # Returns list, raises if &gt; 100k</span>

<span class="sd">        # Explicit unlimited for large exports</span>
<span class="sd">        all_persons = await it.all(limit=None)</span>

<span class="sd">        # Custom limit</span>
<span class="sd">        persons = await it.all(limit=500_000)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">results</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">T</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">async</span> <span class="k">for</span> <span class="n">page</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">pages</span><span class="p">():</span>
        <span class="n">results</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">page</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">limit</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">results</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">limit</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">TooManyResultsError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Exceeded limit=</span><span class="si">{</span><span class="n">limit</span><span class="si">:</span><span class="s2">,</span><span class="si">}</span><span class="s2"> items. &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;Use pages() for streaming, add a filter, or pass limit=None.&quot;</span>
            <span class="p">)</span>

    <span class="k">return</span> <span class="n">results</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="affinity.models.AsyncPageIterator.pages" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">pages</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">on_progress</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">PaginationProgress</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncIterator</span><span class="p">[</span><span class="n">PaginatedResponse</span><span class="p">[</span><span class="n">T</span><span class="p">]]</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

<a href="#affinity.models.AsyncPageIterator.pages" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Iterate through pages (not individual items).</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>on_progress</code>
            </td>
            <td>
                  <code><span title="collections.abc.Callable">Callable</span>[[<a class="autorefs autorefs-internal" title="PaginationProgress


  
      dataclass
   (affinity.models.pagination.PaginationProgress)" href="#affinity.models.PaginationProgress">PaginationProgress</a>], None] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional callback fired after fetching each page.
Receives PaginationProgress with page_number, items_in_page,
items_so_far, and has_next. Callbacks should be lightweight;
heavy processing should happen outside the callback to avoid
blocking iteration.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Yields:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="collections.abc.AsyncIterator">AsyncIterator</span>[<a class="autorefs autorefs-internal" title="PaginatedResponse (affinity.models.pagination.PaginatedResponse)" href="#affinity.models.PaginatedResponse">PaginatedResponse</a>[<span title="affinity.models.pagination.T">T</span>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>PaginatedResponse objects for each page.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <p>def report(p: PaginationProgress):
    print(f"Page {p.page_number}: {p.items_so_far} items so far")</p>
<p>async for page in client.persons.all().pages(on_progress=report):
    process(page.data)</p>
</details>

            <details class="mkdocstrings-source">
              <summary>Source code in <code>affinity/models/pagination.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">pages</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">on_progress</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">PaginationProgress</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncIterator</span><span class="p">[</span><span class="n">PaginatedResponse</span><span class="p">[</span><span class="n">T</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Iterate through pages (not individual items).</span>

<span class="sd">    Args:</span>
<span class="sd">        on_progress: Optional callback fired after fetching each page.</span>
<span class="sd">            Receives PaginationProgress with page_number, items_in_page,</span>
<span class="sd">            items_so_far, and has_next. Callbacks should be lightweight;</span>
<span class="sd">            heavy processing should happen outside the callback to avoid</span>
<span class="sd">            blocking iteration.</span>

<span class="sd">    Yields:</span>
<span class="sd">        PaginatedResponse objects for each page.</span>

<span class="sd">    Example:</span>
<span class="sd">        def report(p: PaginationProgress):</span>
<span class="sd">            print(f&quot;Page {p.page_number}: {p.items_so_far} items so far&quot;)</span>

<span class="sd">        async for page in client.persons.all().pages(on_progress=report):</span>
<span class="sd">            process(page.data)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">page_number</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">items_so_far</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">requested_url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_next_cursor</span>
        <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fetch_page</span><span class="p">(</span><span class="n">requested_url</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_next_cursor</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">next_cursor</span>
        <span class="n">page_number</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">items_in_page</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
        <span class="n">items_so_far</span> <span class="o">+=</span> <span class="n">items_in_page</span>

        <span class="c1"># Guard against pagination loops</span>
        <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">has_next</span> <span class="ow">and</span> <span class="n">response</span><span class="o">.</span><span class="n">next_cursor</span> <span class="o">==</span> <span class="n">requested_url</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">data</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">on_progress</span><span class="p">:</span>
                    <span class="n">on_progress</span><span class="p">(</span>
                        <span class="n">PaginationProgress</span><span class="p">(</span>
                            <span class="n">page_number</span><span class="o">=</span><span class="n">page_number</span><span class="p">,</span>
                            <span class="n">items_in_page</span><span class="o">=</span><span class="n">items_in_page</span><span class="p">,</span>
                            <span class="n">items_so_far</span><span class="o">=</span><span class="n">items_so_far</span><span class="p">,</span>
                            <span class="n">has_next</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>  <span class="c1"># Loop detected, no more pages</span>
                        <span class="p">)</span>
                    <span class="p">)</span>
                <span class="k">yield</span> <span class="n">response</span>
            <span class="k">break</span>

        <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">data</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">on_progress</span><span class="p">:</span>
                <span class="n">on_progress</span><span class="p">(</span>
                    <span class="n">PaginationProgress</span><span class="p">(</span>
                        <span class="n">page_number</span><span class="o">=</span><span class="n">page_number</span><span class="p">,</span>
                        <span class="n">items_in_page</span><span class="o">=</span><span class="n">items_in_page</span><span class="p">,</span>
                        <span class="n">items_so_far</span><span class="o">=</span><span class="n">items_so_far</span><span class="p">,</span>
                        <span class="n">has_next</span><span class="o">=</span><span class="n">response</span><span class="o">.</span><span class="n">has_next</span><span class="p">,</span>
                    <span class="p">)</span>
                <span class="p">)</span>
            <span class="k">yield</span> <span class="n">response</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">response</span><span class="o">.</span><span class="n">has_next</span><span class="p">:</span>
            <span class="k">break</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.models.BatchOperationResponse" class="doc doc-heading">
            <code>BatchOperationResponse</code>


<a href="#affinity.models.BatchOperationResponse" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="affinity.models.pagination.AffinityModel">AffinityModel</span></code></p>



        <p>Response from batch field operations.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/models/pagination.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">BatchOperationResponse</span><span class="p">(</span><span class="n">AffinityModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Response from batch field operations.&quot;&quot;&quot;</span>

    <span class="n">results</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">BatchOperationResult</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">all_successful</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">all</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">success</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">results</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">failures</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">BatchOperationResult</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">r</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">results</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">r</span><span class="o">.</span><span class="n">success</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.models.BatchOperationResult" class="doc doc-heading">
            <code>BatchOperationResult</code>


<a href="#affinity.models.BatchOperationResult" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="affinity.models.pagination.AffinityModel">AffinityModel</span></code></p>



        <p>Result of a single operation in a batch.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/models/pagination.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">BatchOperationResult</span><span class="p">(</span><span class="n">AffinityModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Result of a single operation in a batch.&quot;&quot;&quot;</span>

    <span class="n">field_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;fieldId&quot;</span><span class="p">)</span>
    <span class="n">success</span><span class="p">:</span> <span class="nb">bool</span>
    <span class="n">error</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.models.Company" class="doc doc-heading">
            <code>Company</code>


<a href="#affinity.models.Company" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AffinityModel (affinity.models.entities.AffinityModel)" href="#affinity.models.AffinityModel">AffinityModel</a></code></p>



        <p>Full company representation.</p>
<p>Note: Called Organization in V1 API.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/models/entities.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Company</span><span class="p">(</span><span class="n">AffinityModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Full company representation.</span>

<span class="sd">    Note: Called Organization in V1 API.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nb">id</span><span class="p">:</span> <span class="n">CompanyId</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">domain</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">domains</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span>
    <span class="n">is_global</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;global&quot;</span><span class="p">)</span>

    <span class="c1"># Associations</span>
    <span class="n">person_ids</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">PersonId</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;personIds&quot;</span><span class="p">)</span>
    <span class="n">opportunity_ids</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">OpportunityId</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;opportunityIds&quot;</span><span class="p">)</span>

    <span class="c1"># Field values (requested-vs-not-requested preserved)</span>
    <span class="n">fields</span><span class="p">:</span> <span class="n">FieldValues</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="n">FieldValues</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;fields&quot;</span><span class="p">)</span>
    <span class="n">fields_raw</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">exclude</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="nd">@model_validator</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;before&quot;</span><span class="p">)</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_normalize_null_lists_before</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">_normalize_null_lists</span><span class="p">(</span>
            <span class="n">value</span><span class="p">,</span>
            <span class="p">(</span>
                <span class="s2">&quot;domains&quot;</span><span class="p">,</span>
                <span class="s2">&quot;personIds&quot;</span><span class="p">,</span>
                <span class="s2">&quot;person_ids&quot;</span><span class="p">,</span>
                <span class="s2">&quot;opportunityIds&quot;</span><span class="p">,</span>
                <span class="s2">&quot;opportunity_ids&quot;</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">_preserve_fields_raw</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

    <span class="nd">@model_validator</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;after&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_mark_fields_not_requested_when_omitted</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Company</span><span class="p">:</span>
        <span class="k">if</span> <span class="s2">&quot;fields&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__pydantic_fields_set__</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">requested</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="c1"># List entries (returned for single company fetch)</span>
    <span class="n">list_entries</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">ListEntry</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;listEntries&quot;</span><span class="p">)</span>

    <span class="c1"># Interaction dates</span>
    <span class="n">interaction_dates</span><span class="p">:</span> <span class="n">InteractionDates</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;interactionDates&quot;</span><span class="p">)</span>

    <span class="c1"># Detailed interaction data with person IDs (returned when with_interaction_persons=True)</span>
    <span class="n">interactions</span><span class="p">:</span> <span class="n">Interactions</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.models.CompanyCreate" class="doc doc-heading">
            <code>CompanyCreate</code>


<a href="#affinity.models.CompanyCreate" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AffinityModel (affinity.models.entities.AffinityModel)" href="#affinity.models.AffinityModel">AffinityModel</a></code></p>



        <p>Data for creating a new company (V1 API).</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/models/entities.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">CompanyCreate</span><span class="p">(</span><span class="n">AffinityModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Data for creating a new company (V1 API).&quot;&quot;&quot;</span>

    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">domain</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">person_ids</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">PersonId</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.models.CompanyUpdate" class="doc doc-heading">
            <code>CompanyUpdate</code>


<a href="#affinity.models.CompanyUpdate" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AffinityModel (affinity.models.entities.AffinityModel)" href="#affinity.models.AffinityModel">AffinityModel</a></code></p>



        <p>Data for updating a company (V1 API).</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/models/entities.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">CompanyUpdate</span><span class="p">(</span><span class="n">AffinityModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Data for updating a company (V1 API).&quot;&quot;&quot;</span>

    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">domain</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">person_ids</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">PersonId</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.models.DropdownOption" class="doc doc-heading">
            <code>DropdownOption</code>


<a href="#affinity.models.DropdownOption" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AffinityModel (affinity.models.entities.AffinityModel)" href="#affinity.models.AffinityModel">AffinityModel</a></code></p>



        <p>A selectable option in a dropdown field.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/models/entities.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">DropdownOption</span><span class="p">(</span><span class="n">AffinityModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A selectable option in a dropdown field.&quot;&quot;&quot;</span>

    <span class="nb">id</span><span class="p">:</span> <span class="n">DropdownOptionId</span>
    <span class="n">text</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">rank</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">color</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.models.EntityFile" class="doc doc-heading">
            <code>EntityFile</code>


<a href="#affinity.models.EntityFile" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AffinityModel (affinity.models.entities.AffinityModel)" href="#affinity.models.AffinityModel">AffinityModel</a></code></p>



        <p>A file attached to an entity.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/models/secondary.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">EntityFile</span><span class="p">(</span><span class="n">AffinityModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A file attached to an entity.&quot;&quot;&quot;</span>

    <span class="nb">id</span><span class="p">:</span> <span class="n">FileId</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">size</span><span class="p">:</span> <span class="nb">int</span>
    <span class="c1"># Observed missing in some V1 responses; treat as optional for robustness.</span>
    <span class="n">content_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;contentType&quot;</span><span class="p">)</span>

    <span class="c1"># Associated entity</span>
    <span class="n">person_id</span><span class="p">:</span> <span class="n">PersonId</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;personId&quot;</span><span class="p">)</span>
    <span class="n">company_id</span><span class="p">:</span> <span class="n">CompanyId</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;organizationId&quot;</span><span class="p">)</span>
    <span class="n">opportunity_id</span><span class="p">:</span> <span class="n">OpportunityId</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;opportunityId&quot;</span><span class="p">)</span>

    <span class="c1"># Uploader</span>
    <span class="n">uploader_id</span><span class="p">:</span> <span class="n">UserId</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;uploaderId&quot;</span><span class="p">)</span>

    <span class="c1"># Timestamps</span>
    <span class="n">created_at</span><span class="p">:</span> <span class="n">ISODatetime</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;createdAt&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.models.FieldCreate" class="doc doc-heading">
            <code>FieldCreate</code>


<a href="#affinity.models.FieldCreate" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AffinityModel (affinity.models.entities.AffinityModel)" href="#affinity.models.AffinityModel">AffinityModel</a></code></p>



        <p>Data for creating a new field (V1 API).</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/models/entities.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">744</span>
<span class="normal">745</span>
<span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span>
<span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">FieldCreate</span><span class="p">(</span><span class="n">AffinityModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Data for creating a new field (V1 API).&quot;&quot;&quot;</span>

    <span class="n">model_config</span> <span class="o">=</span> <span class="n">ConfigDict</span><span class="p">(</span><span class="n">use_enum_values</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">entity_type</span><span class="p">:</span> <span class="n">EntityType</span>
    <span class="n">value_type</span><span class="p">:</span> <span class="n">FieldValueType</span>
    <span class="n">list_id</span><span class="p">:</span> <span class="n">ListId</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">allows_multiple</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">is_list_specific</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">is_required</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.models.FieldMetadata" class="doc doc-heading">
            <code>FieldMetadata</code>


<a href="#affinity.models.FieldMetadata" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AffinityModel (affinity.models.entities.AffinityModel)" href="#affinity.models.AffinityModel">AffinityModel</a></code></p>



        <p>Metadata about a field (column) in Affinity.</p>
<p>Includes both V1 numeric IDs and V2 string IDs for enriched fields.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/models/entities.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span>
<span class="normal">724</span>
<span class="normal">725</span>
<span class="normal">726</span>
<span class="normal">727</span>
<span class="normal">728</span>
<span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">FieldMetadata</span><span class="p">(</span><span class="n">AffinityModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Metadata about a field (column) in Affinity.</span>

<span class="sd">    Includes both V1 numeric IDs and V2 string IDs for enriched fields.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">model_config</span> <span class="o">=</span> <span class="n">ConfigDict</span><span class="p">(</span><span class="n">use_enum_values</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="nb">id</span><span class="p">:</span> <span class="n">AnyFieldId</span>  <span class="c1"># Can be int (field-123) or string (affinity-data-description)</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">value_type</span><span class="p">:</span> <span class="n">FieldValueType</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;valueType&quot;</span><span class="p">)</span>
    <span class="n">allows_multiple</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;allowsMultiple&quot;</span><span class="p">)</span>
    <span class="n">value_type_raw</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">exclude</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="c1"># V2 field type classification</span>
    <span class="nb">type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># &quot;enriched&quot;, &quot;list-specific&quot;, &quot;global&quot;, etc.</span>

    <span class="c1"># V1 specific fields</span>
    <span class="n">list_id</span><span class="p">:</span> <span class="n">ListId</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;listId&quot;</span><span class="p">)</span>
    <span class="n">track_changes</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;trackChanges&quot;</span><span class="p">)</span>
    <span class="n">enrichment_source</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;enrichmentSource&quot;</span><span class="p">)</span>
    <span class="n">is_required</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;isRequired&quot;</span><span class="p">)</span>

    <span class="c1"># Dropdown options for dropdown fields</span>
    <span class="n">dropdown_options</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">DropdownOption</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;dropdownOptions&quot;</span><span class="p">)</span>

    <span class="nd">@model_validator</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;before&quot;</span><span class="p">)</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_preserve_value_type_raw</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">value</span>

        <span class="n">data</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="n">raw</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;valueType&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">raw</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="s2">&quot;value_type&quot;</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
            <span class="n">raw</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;value_type&quot;</span><span class="p">)</span>
        <span class="n">data</span><span class="p">[</span><span class="s2">&quot;value_type_raw&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">raw</span>
        <span class="k">return</span> <span class="n">data</span>

    <span class="nd">@model_validator</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;after&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_coerce_allows_multiple_from_value_type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FieldMetadata</span><span class="p">:</span>
        <span class="c1"># If the server returns a `*-multi` value type, treat it as authoritative for multiplicity.</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">text</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value_type</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">if</span> <span class="n">text</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;-multi&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">allows_multiple</span><span class="p">:</span>
            <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                <span class="s2">&quot;FieldMetadata allowsMultiple mismatch: valueType=</span><span class="si">%s</span><span class="s2"> allowsMultiple=</span><span class="si">%s</span><span class="s2"> &quot;</span>
                <span class="s2">&quot;(auto-correcting)&quot;</span><span class="p">,</span>
                <span class="n">text</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">allows_multiple</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">allows_multiple</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.models.FieldValue" class="doc doc-heading">
            <code>FieldValue</code>


<a href="#affinity.models.FieldValue" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AffinityModel (affinity.models.entities.AffinityModel)" href="#affinity.models.AffinityModel">AffinityModel</a></code></p>



        <p>A single field value (cell data).</p>
<p>The value can be various types depending on the field's value_type.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/models/entities.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">763</span>
<span class="normal">764</span>
<span class="normal">765</span>
<span class="normal">766</span>
<span class="normal">767</span>
<span class="normal">768</span>
<span class="normal">769</span>
<span class="normal">770</span>
<span class="normal">771</span>
<span class="normal">772</span>
<span class="normal">773</span>
<span class="normal">774</span>
<span class="normal">775</span>
<span class="normal">776</span>
<span class="normal">777</span>
<span class="normal">778</span>
<span class="normal">779</span>
<span class="normal">780</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">FieldValue</span><span class="p">(</span><span class="n">AffinityModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A single field value (cell data).</span>

<span class="sd">    The value can be various types depending on the field&#39;s value_type.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nb">id</span><span class="p">:</span> <span class="n">FieldValueId</span>
    <span class="n">field_id</span><span class="p">:</span> <span class="n">AnyFieldId</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;fieldId&quot;</span><span class="p">)</span>
    <span class="n">entity_id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;entityId&quot;</span><span class="p">)</span>
    <span class="n">list_entry_id</span><span class="p">:</span> <span class="n">ListEntryId</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;listEntryId&quot;</span><span class="p">)</span>

    <span class="c1"># The actual value - type depends on field type</span>
    <span class="n">value</span><span class="p">:</span> <span class="n">Any</span>

    <span class="c1"># Timestamps</span>
    <span class="n">created_at</span><span class="p">:</span> <span class="n">ISODatetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;createdAt&quot;</span><span class="p">)</span>
    <span class="n">updated_at</span><span class="p">:</span> <span class="n">ISODatetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;updatedAt&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.models.FieldValueChange" class="doc doc-heading">
            <code>FieldValueChange</code>


<a href="#affinity.models.FieldValueChange" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AffinityModel (affinity.models.entities.AffinityModel)" href="#affinity.models.AffinityModel">AffinityModel</a></code></p>



        <p>Historical change to a field value.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/models/entities.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">803</span>
<span class="normal">804</span>
<span class="normal">805</span>
<span class="normal">806</span>
<span class="normal">807</span>
<span class="normal">808</span>
<span class="normal">809</span>
<span class="normal">810</span>
<span class="normal">811</span>
<span class="normal">812</span>
<span class="normal">813</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">FieldValueChange</span><span class="p">(</span><span class="n">AffinityModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Historical change to a field value.&quot;&quot;&quot;</span>

    <span class="nb">id</span><span class="p">:</span> <span class="n">FieldValueChangeId</span>
    <span class="n">field_id</span><span class="p">:</span> <span class="n">FieldId</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;fieldId&quot;</span><span class="p">)</span>
    <span class="n">entity_id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;entityId&quot;</span><span class="p">)</span>
    <span class="n">list_entry_id</span><span class="p">:</span> <span class="n">ListEntryId</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;listEntryId&quot;</span><span class="p">)</span>
    <span class="n">action_type</span><span class="p">:</span> <span class="n">FieldValueChangeAction</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;actionType&quot;</span><span class="p">)</span>
    <span class="n">value</span><span class="p">:</span> <span class="n">Any</span>
    <span class="n">changed_at</span><span class="p">:</span> <span class="n">ISODatetime</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;changedAt&quot;</span><span class="p">)</span>
    <span class="n">changer</span><span class="p">:</span> <span class="n">PersonSummary</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.models.FieldValueCreate" class="doc doc-heading">
            <code>FieldValueCreate</code>


<a href="#affinity.models.FieldValueCreate" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AffinityModel (affinity.models.entities.AffinityModel)" href="#affinity.models.AffinityModel">AffinityModel</a></code></p>



        <p>Data for creating a field value (V1 API).</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/models/entities.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">783</span>
<span class="normal">784</span>
<span class="normal">785</span>
<span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">FieldValueCreate</span><span class="p">(</span><span class="n">AffinityModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Data for creating a field value (V1 API).&quot;&quot;&quot;</span>

    <span class="n">field_id</span><span class="p">:</span> <span class="n">FieldId</span>
    <span class="n">entity_id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">value</span><span class="p">:</span> <span class="n">Any</span>
    <span class="n">list_entry_id</span><span class="p">:</span> <span class="n">ListEntryId</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.models.Grant" class="doc doc-heading">
            <code>Grant</code>


<a href="#affinity.models.Grant" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AffinityModel (affinity.models.entities.AffinityModel)" href="#affinity.models.AffinityModel">AffinityModel</a></code></p>



        <p>API key grant information.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/models/secondary.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Grant</span><span class="p">(</span><span class="n">AffinityModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;API key grant information.&quot;&quot;&quot;</span>

    <span class="nb">type</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">scopes</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span>
    <span class="n">created_at</span><span class="p">:</span> <span class="n">ISODatetime</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;createdAt&quot;</span><span class="p">)</span>

    <span class="nd">@model_validator</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;before&quot;</span><span class="p">)</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_coerce_scope_to_scopes</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">value</span>
        <span class="k">if</span> <span class="s2">&quot;scopes&quot;</span> <span class="ow">in</span> <span class="n">value</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">value</span>
        <span class="n">scope</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;scope&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">scope</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">updated</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="n">updated</span><span class="p">[</span><span class="s2">&quot;scopes&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">scope</span><span class="p">]</span>
            <span class="k">return</span> <span class="n">updated</span>
        <span class="k">return</span> <span class="n">value</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">scope</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Backwards-compatible convenience for older response shapes.</span>

<span class="sd">        Returns the first scope string when present, otherwise None.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">scopes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">scopes</span> <span class="k">else</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h3 id="affinity.models.Grant.scope" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">scope</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#affinity.models.Grant.scope" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Backwards-compatible convenience for older response shapes.</p>
<p>Returns the first scope string when present, otherwise None.</p>

    </div>

</div>






  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.models.Interaction" class="doc doc-heading">
            <code>Interaction</code>


<a href="#affinity.models.Interaction" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AffinityModel (affinity.models.entities.AffinityModel)" href="#affinity.models.AffinityModel">AffinityModel</a></code></p>



        <p>An interaction (email, meeting, call, or chat message).</p>
<p>Different interaction types have different fields available.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/models/secondary.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Interaction</span><span class="p">(</span><span class="n">AffinityModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    An interaction (email, meeting, call, or chat message).</span>

<span class="sd">    Different interaction types have different fields available.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nb">id</span><span class="p">:</span> <span class="n">InteractionId</span>
    <span class="nb">type</span><span class="p">:</span> <span class="n">InteractionType</span>
    <span class="n">date</span><span class="p">:</span> <span class="n">ISODatetime</span>

    <span class="c1"># Associated persons</span>
    <span class="n">persons</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">PersonSummary</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span>
    <span class="n">attendees</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span>

    <span class="c1"># Meeting/Call specific</span>
    <span class="n">title</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">start_time</span><span class="p">:</span> <span class="n">ISODatetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;startTime&quot;</span><span class="p">)</span>
    <span class="n">end_time</span><span class="p">:</span> <span class="n">ISODatetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;endTime&quot;</span><span class="p">)</span>

    <span class="c1"># Email specific</span>
    <span class="n">subject</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># Chat/Email direction</span>
    <span class="n">direction</span><span class="p">:</span> <span class="n">InteractionDirection</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># Notes attached to this interaction</span>
    <span class="n">notes</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">NoteId</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span>

    <span class="c1"># Manual logging info</span>
    <span class="n">manual_creator_id</span><span class="p">:</span> <span class="n">UserId</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;manualCreatorId&quot;</span><span class="p">)</span>
    <span class="n">updated_at</span><span class="p">:</span> <span class="n">ISODatetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;updatedAt&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.models.InteractionCreate" class="doc doc-heading">
            <code>InteractionCreate</code>


<a href="#affinity.models.InteractionCreate" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AffinityModel (affinity.models.entities.AffinityModel)" href="#affinity.models.AffinityModel">AffinityModel</a></code></p>



        <p>Data for creating an interaction (V1 API).</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/models/secondary.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">InteractionCreate</span><span class="p">(</span><span class="n">AffinityModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Data for creating an interaction (V1 API).&quot;&quot;&quot;</span>

    <span class="nb">type</span><span class="p">:</span> <span class="n">InteractionType</span>
    <span class="n">person_ids</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">PersonId</span><span class="p">]</span>
    <span class="n">content</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">date</span><span class="p">:</span> <span class="n">ISODatetime</span>
    <span class="n">direction</span><span class="p">:</span> <span class="n">InteractionDirection</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.models.InteractionUpdate" class="doc doc-heading">
            <code>InteractionUpdate</code>


<a href="#affinity.models.InteractionUpdate" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AffinityModel (affinity.models.entities.AffinityModel)" href="#affinity.models.AffinityModel">AffinityModel</a></code></p>



        <p>Data for updating an interaction (V1 API).</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/models/secondary.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">InteractionUpdate</span><span class="p">(</span><span class="n">AffinityModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Data for updating an interaction (V1 API).&quot;&quot;&quot;</span>

    <span class="n">person_ids</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">PersonId</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">content</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">date</span><span class="p">:</span> <span class="n">ISODatetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">direction</span><span class="p">:</span> <span class="n">InteractionDirection</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.models.ListCreate" class="doc doc-heading">
            <code>ListCreate</code>


<a href="#affinity.models.ListCreate" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AffinityModel (affinity.models.entities.AffinityModel)" href="#affinity.models.AffinityModel">AffinityModel</a></code></p>



        <p>Data for creating a new list (V1 API).</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/models/entities.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ListCreate</span><span class="p">(</span><span class="n">AffinityModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Data for creating a new list (V1 API).&quot;&quot;&quot;</span>

    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="nb">type</span><span class="p">:</span> <span class="n">ListType</span>
    <span class="n">is_public</span><span class="p">:</span> <span class="nb">bool</span>
    <span class="n">owner_id</span><span class="p">:</span> <span class="n">UserId</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">additional_permissions</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">ListPermission</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.models.ListEntry" class="doc doc-heading">
            <code>ListEntry</code>


<a href="#affinity.models.ListEntry" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AffinityModel (affinity.models.entities.AffinityModel)" href="#affinity.models.AffinityModel">AffinityModel</a></code></p>



        <p>A row in a list, linking an entity to a list.</p>
<p>Contains the entity data and list-specific field values.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/models/entities.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ListEntry</span><span class="p">(</span><span class="n">AffinityModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A row in a list, linking an entity to a list.</span>

<span class="sd">    Contains the entity data and list-specific field values.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nb">id</span><span class="p">:</span> <span class="n">ListEntryId</span>
    <span class="n">list_id</span><span class="p">:</span> <span class="n">ListId</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;listId&quot;</span><span class="p">)</span>
    <span class="n">creator_id</span><span class="p">:</span> <span class="n">UserId</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;creatorId&quot;</span><span class="p">)</span>
    <span class="n">entity_id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;entityId&quot;</span><span class="p">)</span>
    <span class="n">entity_type</span><span class="p">:</span> <span class="n">EntityType</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;entityType&quot;</span><span class="p">)</span>
    <span class="n">created_at</span><span class="p">:</span> <span class="n">ISODatetime</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;createdAt&quot;</span><span class="p">)</span>

    <span class="c1"># The entity this entry represents (can be Person, Company, or Opportunity)</span>
    <span class="n">entity</span><span class="p">:</span> <span class="n">PersonSummary</span> <span class="o">|</span> <span class="n">CompanySummary</span> <span class="o">|</span> <span class="n">OpportunitySummary</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># Field values on this list entry (requested-vs-not-requested preserved)</span>
    <span class="n">fields</span><span class="p">:</span> <span class="n">FieldValues</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="n">FieldValues</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;fields&quot;</span><span class="p">)</span>
    <span class="n">fields_raw</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">exclude</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="nd">@model_validator</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;before&quot;</span><span class="p">)</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_coerce_entity_by_entity_type</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        The v1 list-entry payload includes `entity_type` alongside a minimal `entity` dict.</span>

<span class="sd">        Some entity summaries overlap in shape (e.g. opportunity and company both have</span>
<span class="sd">        `{id, name}`), so we must use `entity_type` as the discriminator to avoid mis-parsing.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">value</span>

        <span class="n">data</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="n">fields</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;fields&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">fields</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;fields_raw&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fields</span>

        <span class="n">entity</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;entity&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">entity</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">data</span>

        <span class="n">raw_entity_type</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;entityType&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">raw_entity_type</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">raw_entity_type</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;entity_type&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">raw_entity_type</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">data</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">entity_type</span> <span class="o">=</span> <span class="n">EntityType</span><span class="p">(</span><span class="n">raw_entity_type</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Unknown entity type </span><span class="si">%r</span><span class="s2">, returning raw data: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">raw_entity_type</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">data</span>

        <span class="k">if</span> <span class="n">entity_type</span> <span class="o">==</span> <span class="n">EntityType</span><span class="o">.</span><span class="n">PERSON</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">data</span><span class="p">[</span><span class="s2">&quot;entity&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">PersonSummary</span><span class="o">.</span><span class="n">model_validate</span><span class="p">(</span><span class="n">entity</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Failed to validate PersonSummary, returning raw data: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">data</span>
        <span class="k">elif</span> <span class="n">entity_type</span> <span class="o">==</span> <span class="n">EntityType</span><span class="o">.</span><span class="n">ORGANIZATION</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">data</span><span class="p">[</span><span class="s2">&quot;entity&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">CompanySummary</span><span class="o">.</span><span class="n">model_validate</span><span class="p">(</span><span class="n">entity</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Failed to validate CompanySummary, returning raw data: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">data</span>
        <span class="k">elif</span> <span class="n">entity_type</span> <span class="o">==</span> <span class="n">EntityType</span><span class="o">.</span><span class="n">OPPORTUNITY</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">data</span><span class="p">[</span><span class="s2">&quot;entity&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">OpportunitySummary</span><span class="o">.</span><span class="n">model_validate</span><span class="p">(</span><span class="n">entity</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">_logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Failed to validate OpportunitySummary, returning raw data: </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">data</span>

        <span class="k">return</span> <span class="n">data</span>

    <span class="nd">@model_validator</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;after&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_mark_fields_not_requested_when_omitted</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ListEntry</span><span class="p">:</span>
        <span class="k">if</span> <span class="s2">&quot;fields&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__pydantic_fields_set__</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">requested</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.models.ListEntryCreate" class="doc doc-heading">
            <code>ListEntryCreate</code>


<a href="#affinity.models.ListEntryCreate" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AffinityModel (affinity.models.entities.AffinityModel)" href="#affinity.models.AffinityModel">AffinityModel</a></code></p>



        <p>Data for adding an entity to a list (V1 API).</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/models/entities.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ListEntryCreate</span><span class="p">(</span><span class="n">AffinityModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Data for adding an entity to a list (V1 API).&quot;&quot;&quot;</span>

    <span class="n">entity_id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">creator_id</span><span class="p">:</span> <span class="n">UserId</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.models.ListEntryWithEntity" class="doc doc-heading">
            <code>ListEntryWithEntity</code>


<a href="#affinity.models.ListEntryWithEntity" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AffinityModel (affinity.models.entities.AffinityModel)" href="#affinity.models.AffinityModel">AffinityModel</a></code></p>



        <p>List entry with full entity data included (V2 response format).</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/models/entities.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ListEntryWithEntity</span><span class="p">(</span><span class="n">AffinityModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List entry with full entity data included (V2 response format).&quot;&quot;&quot;</span>

    <span class="nb">id</span><span class="p">:</span> <span class="n">ListEntryId</span>
    <span class="n">list_id</span><span class="p">:</span> <span class="n">ListId</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;listId&quot;</span><span class="p">)</span>
    <span class="n">creator</span><span class="p">:</span> <span class="n">PersonSummary</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">created_at</span><span class="p">:</span> <span class="n">ISODatetime</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;createdAt&quot;</span><span class="p">)</span>

    <span class="c1"># Entity type and data</span>
    <span class="nb">type</span><span class="p">:</span> <span class="nb">str</span>  <span class="c1"># &quot;person&quot;, &quot;company&quot;, or &quot;opportunity&quot;</span>
    <span class="n">entity</span><span class="p">:</span> <span class="n">Person</span> <span class="o">|</span> <span class="n">Company</span> <span class="o">|</span> <span class="n">Opportunity</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># Field values (requested-vs-not-requested preserved)</span>
    <span class="n">fields</span><span class="p">:</span> <span class="n">FieldValues</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="n">FieldValues</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;fields&quot;</span><span class="p">)</span>
    <span class="n">fields_raw</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">exclude</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="nd">@model_validator</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;before&quot;</span><span class="p">)</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_preserve_fields_raw_before</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">_preserve_fields_raw</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

    <span class="nd">@model_validator</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;after&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_mark_fields_not_requested_when_omitted</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ListEntryWithEntity</span><span class="p">:</span>
        <span class="k">if</span> <span class="s2">&quot;fields&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__pydantic_fields_set__</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">requested</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.models.ListPermission" class="doc doc-heading">
            <code>ListPermission</code>


<a href="#affinity.models.ListPermission" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AffinityModel (affinity.models.entities.AffinityModel)" href="#affinity.models.AffinityModel">AffinityModel</a></code></p>



        <p>Additional permission on a list.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/models/entities.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ListPermission</span><span class="p">(</span><span class="n">AffinityModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Additional permission on a list.&quot;&quot;&quot;</span>

    <span class="n">internal_person_id</span><span class="p">:</span> <span class="n">UserId</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;internalPersonId&quot;</span><span class="p">)</span>
    <span class="n">role_id</span><span class="p">:</span> <span class="n">ListRole</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;roleId&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.models.ListSummary" class="doc doc-heading">
            <code>ListSummary</code>


<a href="#affinity.models.ListSummary" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AffinityModel (affinity.models.entities.AffinityModel)" href="#affinity.models.AffinityModel">AffinityModel</a></code></p>



        <p>Minimal list reference used by relationship endpoints.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/models/entities.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ListSummary</span><span class="p">(</span><span class="n">AffinityModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Minimal list reference used by relationship endpoints.&quot;&quot;&quot;</span>

    <span class="nb">id</span><span class="p">:</span> <span class="n">ListId</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="nb">type</span><span class="p">:</span> <span class="n">ListType</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">is_public</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;public&quot;</span><span class="p">)</span>
    <span class="n">owner_id</span><span class="p">:</span> <span class="n">UserId</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;ownerId&quot;</span><span class="p">)</span>
    <span class="n">list_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;listSize&quot;</span><span class="p">)</span>

    <span class="nd">@model_validator</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;before&quot;</span><span class="p">)</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_coerce_v2_is_public</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">Mapping</span><span class="p">)</span> <span class="ow">and</span> <span class="s2">&quot;public&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">value</span> <span class="ow">and</span> <span class="s2">&quot;isPublic&quot;</span> <span class="ow">in</span> <span class="n">value</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;public&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;isPublic&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">data</span>
        <span class="k">return</span> <span class="n">value</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.models.Note" class="doc doc-heading">
            <code>Note</code>


<a href="#affinity.models.Note" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AffinityModel (affinity.models.entities.AffinityModel)" href="#affinity.models.AffinityModel">AffinityModel</a></code></p>



        <p>A note attached to one or more entities.</p>
<p>Notes can be plain text, HTML, or AI-generated meeting summaries.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/models/secondary.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Note</span><span class="p">(</span><span class="n">AffinityModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A note attached to one or more entities.</span>

<span class="sd">    Notes can be plain text, HTML, or AI-generated meeting summaries.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nb">id</span><span class="p">:</span> <span class="n">NoteId</span>
    <span class="n">creator_id</span><span class="p">:</span> <span class="n">UserId</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;creatorId&quot;</span><span class="p">)</span>
    <span class="n">content</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="nb">type</span><span class="p">:</span> <span class="n">NoteType</span> <span class="o">=</span> <span class="n">NoteType</span><span class="o">.</span><span class="n">PLAIN_TEXT</span>

    <span class="c1"># Associated entities</span>
    <span class="n">person_ids</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">PersonId</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;personIds&quot;</span><span class="p">)</span>
    <span class="n">associated_person_ids</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">PersonId</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;associatedPersonIds&quot;</span><span class="p">)</span>
    <span class="n">interaction_person_ids</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">PersonId</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;interactionPersonIds&quot;</span>
    <span class="p">)</span>
    <span class="n">mentioned_person_ids</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">PersonId</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;mentionedPersonIds&quot;</span><span class="p">)</span>
    <span class="n">company_ids</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">CompanyId</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;organizationIds&quot;</span><span class="p">)</span>
    <span class="n">opportunity_ids</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">OpportunityId</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;opportunityIds&quot;</span><span class="p">)</span>

    <span class="c1"># Interaction association</span>
    <span class="n">interaction_id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;interactionId&quot;</span><span class="p">)</span>
    <span class="n">interaction_type</span><span class="p">:</span> <span class="n">InteractionType</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;interactionType&quot;</span><span class="p">)</span>
    <span class="n">is_meeting</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;isMeeting&quot;</span><span class="p">)</span>

    <span class="c1"># Thread support</span>
    <span class="n">parent_id</span><span class="p">:</span> <span class="n">NoteId</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;parentId&quot;</span><span class="p">)</span>

    <span class="c1"># Timestamps</span>
    <span class="n">created_at</span><span class="p">:</span> <span class="n">ISODatetime</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;createdAt&quot;</span><span class="p">)</span>
    <span class="n">updated_at</span><span class="p">:</span> <span class="n">ISODatetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;updatedAt&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.models.NoteCreate" class="doc doc-heading">
            <code>NoteCreate</code>


<a href="#affinity.models.NoteCreate" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AffinityModel (affinity.models.entities.AffinityModel)" href="#affinity.models.AffinityModel">AffinityModel</a></code></p>



        <p>Data for creating a new note (V1 API).</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/models/secondary.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">NoteCreate</span><span class="p">(</span><span class="n">AffinityModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Data for creating a new note (V1 API).&quot;&quot;&quot;</span>

    <span class="n">content</span><span class="p">:</span> <span class="nb">str</span>
    <span class="nb">type</span><span class="p">:</span> <span class="n">NoteType</span> <span class="o">=</span> <span class="n">NoteType</span><span class="o">.</span><span class="n">PLAIN_TEXT</span>
    <span class="n">person_ids</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">PersonId</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span>
    <span class="n">company_ids</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">CompanyId</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;organization_ids&quot;</span><span class="p">)</span>
    <span class="n">opportunity_ids</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">OpportunityId</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span>
    <span class="n">parent_id</span><span class="p">:</span> <span class="n">NoteId</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># For reply notes</span>
    <span class="n">creator_id</span><span class="p">:</span> <span class="n">UserId</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">created_at</span><span class="p">:</span> <span class="n">ISODatetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.models.NoteUpdate" class="doc doc-heading">
            <code>NoteUpdate</code>


<a href="#affinity.models.NoteUpdate" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AffinityModel (affinity.models.entities.AffinityModel)" href="#affinity.models.AffinityModel">AffinityModel</a></code></p>



        <p>Data for updating a note (V1 API).</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/models/secondary.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">NoteUpdate</span><span class="p">(</span><span class="n">AffinityModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Data for updating a note (V1 API).&quot;&quot;&quot;</span>

    <span class="n">content</span><span class="p">:</span> <span class="nb">str</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.models.Opportunity" class="doc doc-heading">
            <code>Opportunity</code>


<a href="#affinity.models.Opportunity" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AffinityModel (affinity.models.entities.AffinityModel)" href="#affinity.models.AffinityModel">AffinityModel</a></code></p>



        <p>Deal/opportunity in a pipeline.</p>


<details class="note" open>
  <summary>Note</summary>
  <p>The V2 API returns empty <code>person_ids</code> and <code>company_ids</code> arrays even
when associations exist. Use <code>client.opportunities.get_associated_person_ids()</code>
or <code>client.opportunities.get_details()</code> to retrieve association data.</p>
<p>See the opportunity-associations guide for details.</p>
</details>







              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/models/entities.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Opportunity</span><span class="p">(</span><span class="n">AffinityModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Deal/opportunity in a pipeline.</span>

<span class="sd">    Note:</span>
<span class="sd">        The V2 API returns empty ``person_ids`` and ``company_ids`` arrays even</span>
<span class="sd">        when associations exist. Use ``client.opportunities.get_associated_person_ids()``</span>
<span class="sd">        or ``client.opportunities.get_details()`` to retrieve association data.</span>

<span class="sd">        See the opportunity-associations guide for details.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nb">id</span><span class="p">:</span> <span class="n">OpportunityId</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">list_id</span><span class="p">:</span> <span class="n">ListId</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;listId&quot;</span><span class="p">)</span>

    <span class="c1"># Associations (Note: V2 API returns empty arrays; use get_details() or</span>
    <span class="c1"># get_associated_person_ids() for populated data)</span>
    <span class="n">person_ids</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">PersonId</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;personIds&quot;</span><span class="p">)</span>
    <span class="n">company_ids</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">CompanyId</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;organizationIds&quot;</span><span class="p">)</span>

    <span class="c1"># Field values (requested-vs-not-requested preserved)</span>
    <span class="n">fields</span><span class="p">:</span> <span class="n">FieldValues</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="n">FieldValues</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;fields&quot;</span><span class="p">)</span>
    <span class="n">fields_raw</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">exclude</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="nd">@model_validator</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;before&quot;</span><span class="p">)</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_preserve_fields_raw_before</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">_preserve_fields_raw</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

    <span class="c1"># List entries</span>
    <span class="n">list_entries</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">ListEntry</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;listEntries&quot;</span><span class="p">)</span>

    <span class="nd">@model_validator</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;after&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_post_validate</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Opportunity</span><span class="p">:</span>
        <span class="c1"># Mark fields as not requested when omitted</span>
        <span class="k">if</span> <span class="s2">&quot;fields&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__pydantic_fields_set__</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">requested</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="c1"># Extract list_id from list_entries when not set directly</span>
        <span class="c1"># (V1 API returns list_id in list_entries, not at top level)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_id</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_entries</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">list_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_entries</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">list_id</span>

        <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.models.OpportunityCreate" class="doc doc-heading">
            <code>OpportunityCreate</code>


<a href="#affinity.models.OpportunityCreate" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AffinityModel (affinity.models.entities.AffinityModel)" href="#affinity.models.AffinityModel">AffinityModel</a></code></p>



        <p>Data for creating a new opportunity (V1 API).</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/models/entities.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">OpportunityCreate</span><span class="p">(</span><span class="n">AffinityModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Data for creating a new opportunity (V1 API).&quot;&quot;&quot;</span>

    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">list_id</span><span class="p">:</span> <span class="n">ListId</span>
    <span class="n">person_ids</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">PersonId</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span>
    <span class="n">company_ids</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">CompanyId</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;organization_ids&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.models.OpportunitySummary" class="doc doc-heading">
            <code>OpportunitySummary</code>


<a href="#affinity.models.OpportunitySummary" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AffinityModel (affinity.models.entities.AffinityModel)" href="#affinity.models.AffinityModel">AffinityModel</a></code></p>



        <p>Minimal opportunity data returned in nested contexts.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/models/entities.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">OpportunitySummary</span><span class="p">(</span><span class="n">AffinityModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Minimal opportunity data returned in nested contexts.&quot;&quot;&quot;</span>

    <span class="nb">id</span><span class="p">:</span> <span class="n">OpportunityId</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.models.OpportunityUpdate" class="doc doc-heading">
            <code>OpportunityUpdate</code>


<a href="#affinity.models.OpportunityUpdate" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AffinityModel (affinity.models.entities.AffinityModel)" href="#affinity.models.AffinityModel">AffinityModel</a></code></p>



        <p>Data for updating an opportunity (V1 API).</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/models/entities.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">OpportunityUpdate</span><span class="p">(</span><span class="n">AffinityModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Data for updating an opportunity (V1 API).&quot;&quot;&quot;</span>

    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">person_ids</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">PersonId</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">company_ids</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">CompanyId</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;organization_ids&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.models.PageIterator" class="doc doc-heading">
            <code>PageIterator</code>


<a href="#affinity.models.PageIterator" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="typing.Generic">Generic</span>[<span title="affinity.models.pagination.T">T</span>]</code></p>



        <p>Synchronous iterator that automatically fetches all pages.</p>


<details class="usage" open>
  <summary>Usage</summary>
  <p>for item in client.companies.all():
    print(item.name)</p>
</details>







              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/models/pagination.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">PageIterator</span><span class="p">(</span><span class="n">Generic</span><span class="p">[</span><span class="n">T</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Synchronous iterator that automatically fetches all pages.</span>

<span class="sd">    Usage:</span>
<span class="sd">        for item in client.companies.all():</span>
<span class="sd">            print(item.name)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">fetch_page</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">],</span> <span class="n">PaginatedResponse</span><span class="p">[</span><span class="n">T</span><span class="p">]],</span>
        <span class="n">initial_cursor</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_fetch_page</span> <span class="o">=</span> <span class="n">fetch_page</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_next_cursor</span> <span class="o">=</span> <span class="n">initial_cursor</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_current_page</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">T</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_index</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_exhausted</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterator</span><span class="p">[</span><span class="n">T</span><span class="p">]:</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__next__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">T</span><span class="p">:</span>
        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
            <span class="c1"># If we have items in current page, return next</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_index</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_current_page</span><span class="p">):</span>
                <span class="n">item</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_current_page</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_index</span><span class="p">]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_index</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">return</span> <span class="n">item</span>

            <span class="c1"># Need to fetch next page</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_exhausted</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">StopIteration</span>

            <span class="n">requested_url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_next_cursor</span>
            <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fetch_page</span><span class="p">(</span><span class="n">requested_url</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_current_page</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_next_cursor</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">next_cursor</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_index</span> <span class="o">=</span> <span class="mi">0</span>

            <span class="c1"># Guard against pagination loops (no cursor progress).</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">has_next</span> <span class="ow">and</span> <span class="n">response</span><span class="o">.</span><span class="n">next_cursor</span> <span class="o">==</span> <span class="n">requested_url</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_exhausted</span> <span class="o">=</span> <span class="kc">True</span>

            <span class="c1"># Empty pages can still legitimately include nextUrl; keep paging</span>
            <span class="c1"># until we get data or the cursor is exhausted.</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_current_page</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">has_next</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_exhausted</span><span class="p">:</span>
                    <span class="k">continue</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_exhausted</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="k">raise</span> <span class="ne">StopIteration</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">response</span><span class="o">.</span><span class="n">has_next</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_exhausted</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">pages</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">on_progress</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">PaginationProgress</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterator</span><span class="p">[</span><span class="n">PaginatedResponse</span><span class="p">[</span><span class="n">T</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Iterate through pages (not individual items).</span>

<span class="sd">        Args:</span>
<span class="sd">            on_progress: Optional callback fired after fetching each page.</span>
<span class="sd">                Receives PaginationProgress with page_number, items_in_page,</span>
<span class="sd">                items_so_far, and has_next. Callbacks should be lightweight;</span>
<span class="sd">                heavy processing should happen outside the callback to avoid</span>
<span class="sd">                blocking iteration.</span>

<span class="sd">        Yields:</span>
<span class="sd">            PaginatedResponse objects for each page.</span>

<span class="sd">        Example:</span>
<span class="sd">            def report(p: PaginationProgress):</span>
<span class="sd">                print(f&quot;Page {p.page_number}: {p.items_so_far} items so far&quot;)</span>

<span class="sd">            for page in client.persons.all().pages(on_progress=report):</span>
<span class="sd">                process(page.data)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">page_number</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">items_so_far</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
            <span class="n">requested_url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_next_cursor</span>
            <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fetch_page</span><span class="p">(</span><span class="n">requested_url</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_next_cursor</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">next_cursor</span>
            <span class="n">page_number</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">items_in_page</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
            <span class="n">items_so_far</span> <span class="o">+=</span> <span class="n">items_in_page</span>

            <span class="c1"># Guard against pagination loops</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">has_next</span> <span class="ow">and</span> <span class="n">response</span><span class="o">.</span><span class="n">next_cursor</span> <span class="o">==</span> <span class="n">requested_url</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">data</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">on_progress</span><span class="p">:</span>
                        <span class="n">on_progress</span><span class="p">(</span>
                            <span class="n">PaginationProgress</span><span class="p">(</span>
                                <span class="n">page_number</span><span class="o">=</span><span class="n">page_number</span><span class="p">,</span>
                                <span class="n">items_in_page</span><span class="o">=</span><span class="n">items_in_page</span><span class="p">,</span>
                                <span class="n">items_so_far</span><span class="o">=</span><span class="n">items_so_far</span><span class="p">,</span>
                                <span class="n">has_next</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>  <span class="c1"># Loop detected, no more pages</span>
                            <span class="p">)</span>
                        <span class="p">)</span>
                    <span class="k">yield</span> <span class="n">response</span>
                <span class="k">break</span>

            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">data</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">on_progress</span><span class="p">:</span>
                    <span class="n">on_progress</span><span class="p">(</span>
                        <span class="n">PaginationProgress</span><span class="p">(</span>
                            <span class="n">page_number</span><span class="o">=</span><span class="n">page_number</span><span class="p">,</span>
                            <span class="n">items_in_page</span><span class="o">=</span><span class="n">items_in_page</span><span class="p">,</span>
                            <span class="n">items_so_far</span><span class="o">=</span><span class="n">items_so_far</span><span class="p">,</span>
                            <span class="n">has_next</span><span class="o">=</span><span class="n">response</span><span class="o">.</span><span class="n">has_next</span><span class="p">,</span>
                        <span class="p">)</span>
                    <span class="p">)</span>
                <span class="k">yield</span> <span class="n">response</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">response</span><span class="o">.</span><span class="n">has_next</span><span class="p">:</span>
                <span class="k">break</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">all</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">_DEFAULT_LIMIT</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">T</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Fetch all items across all pages into a list.</span>

<span class="sd">        Args:</span>
<span class="sd">            limit: Maximum items to fetch. Default 100,000. Set to None for unlimited.</span>

<span class="sd">        Returns:</span>
<span class="sd">            List of all items.</span>

<span class="sd">        Raises:</span>
<span class="sd">            TooManyResultsError: If results exceed limit.</span>

<span class="sd">        Note:</span>
<span class="sd">            The check occurs after extending results, so the final list may exceed</span>
<span class="sd">            limit by up to one page before the error is raised.</span>

<span class="sd">        Example:</span>
<span class="sd">            # Default - safe for most use cases</span>
<span class="sd">            persons = list(client.persons.all())  # Using iterator</span>

<span class="sd">            # Or use .all() method with limit check</span>
<span class="sd">            it = PageIterator(fetch_page)</span>
<span class="sd">            persons = it.all()  # Returns list, raises if &gt; 100k</span>

<span class="sd">            # Explicit unlimited for large exports</span>
<span class="sd">            all_persons = it.all(limit=None)</span>

<span class="sd">            # Custom limit</span>
<span class="sd">            persons = it.all(limit=500_000)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">results</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">T</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">for</span> <span class="n">page</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">pages</span><span class="p">():</span>
            <span class="n">results</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">page</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">limit</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">results</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">limit</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">TooManyResultsError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Exceeded limit=</span><span class="si">{</span><span class="n">limit</span><span class="si">:</span><span class="s2">,</span><span class="si">}</span><span class="s2"> items. &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;Use pages() for streaming, add a filter, or pass limit=None.&quot;</span>
                <span class="p">)</span>

        <span class="k">return</span> <span class="n">results</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="affinity.models.PageIterator.all" class="doc doc-heading">
            <code class="highlight language-python"><span class="nb">all</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">_DEFAULT_LIMIT</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">T</span><span class="p">]</span></code>

<a href="#affinity.models.PageIterator.all" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Fetch all items across all pages into a list.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>limit</code>
            </td>
            <td>
                  <code><span title="int">int</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Maximum items to fetch. Default 100,000. Set to None for unlimited.</p>
              </div>
            </td>
            <td>
                  <code><span title="affinity.models.pagination._DEFAULT_LIMIT">_DEFAULT_LIMIT</span></code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="list">list</span>[<span title="affinity.models.pagination.T">T</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of all items.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="TooManyResultsError (affinity.exceptions.TooManyResultsError)" href="../exceptions/#affinity.exceptions.TooManyResultsError">TooManyResultsError</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If results exceed limit.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="note" open>
  <summary>Note</summary>
  <p>The check occurs after extending results, so the final list may exceed
limit by up to one page before the error is raised.</p>
</details>

<details class="example" open>
  <summary>Example</summary>
  <h4 id="affinity.models.PageIterator.all--default-safe-for-most-use-cases">Default - safe for most use cases<a class="headerlink" href="#affinity.models.PageIterator.all--default-safe-for-most-use-cases" title="Permanent link">&para;</a></h4>
<p>persons = list(client.persons.all())  # Using iterator</p>
<h4 id="affinity.models.PageIterator.all--or-use-all-method-with-limit-check">Or use .all() method with limit check<a class="headerlink" href="#affinity.models.PageIterator.all--or-use-all-method-with-limit-check" title="Permanent link">&para;</a></h4>
<p>it = PageIterator(fetch_page)
persons = it.all()  # Returns list, raises if &gt; 100k</p>
<h4 id="affinity.models.PageIterator.all--explicit-unlimited-for-large-exports">Explicit unlimited for large exports<a class="headerlink" href="#affinity.models.PageIterator.all--explicit-unlimited-for-large-exports" title="Permanent link">&para;</a></h4>
<p>all_persons = it.all(limit=None)</p>
<h4 id="affinity.models.PageIterator.all--custom-limit">Custom limit<a class="headerlink" href="#affinity.models.PageIterator.all--custom-limit" title="Permanent link">&para;</a></h4>
<p>persons = it.all(limit=500_000)</p>
</details>

            <details class="mkdocstrings-source">
              <summary>Source code in <code>affinity/models/pagination.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">all</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">_DEFAULT_LIMIT</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">T</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Fetch all items across all pages into a list.</span>

<span class="sd">    Args:</span>
<span class="sd">        limit: Maximum items to fetch. Default 100,000. Set to None for unlimited.</span>

<span class="sd">    Returns:</span>
<span class="sd">        List of all items.</span>

<span class="sd">    Raises:</span>
<span class="sd">        TooManyResultsError: If results exceed limit.</span>

<span class="sd">    Note:</span>
<span class="sd">        The check occurs after extending results, so the final list may exceed</span>
<span class="sd">        limit by up to one page before the error is raised.</span>

<span class="sd">    Example:</span>
<span class="sd">        # Default - safe for most use cases</span>
<span class="sd">        persons = list(client.persons.all())  # Using iterator</span>

<span class="sd">        # Or use .all() method with limit check</span>
<span class="sd">        it = PageIterator(fetch_page)</span>
<span class="sd">        persons = it.all()  # Returns list, raises if &gt; 100k</span>

<span class="sd">        # Explicit unlimited for large exports</span>
<span class="sd">        all_persons = it.all(limit=None)</span>

<span class="sd">        # Custom limit</span>
<span class="sd">        persons = it.all(limit=500_000)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">results</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">T</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">page</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">pages</span><span class="p">():</span>
        <span class="n">results</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">page</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">limit</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">results</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">limit</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">TooManyResultsError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Exceeded limit=</span><span class="si">{</span><span class="n">limit</span><span class="si">:</span><span class="s2">,</span><span class="si">}</span><span class="s2"> items. &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;Use pages() for streaming, add a filter, or pass limit=None.&quot;</span>
            <span class="p">)</span>

    <span class="k">return</span> <span class="n">results</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="affinity.models.PageIterator.pages" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">pages</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">on_progress</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">PaginationProgress</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterator</span><span class="p">[</span><span class="n">PaginatedResponse</span><span class="p">[</span><span class="n">T</span><span class="p">]]</span></code>

<a href="#affinity.models.PageIterator.pages" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Iterate through pages (not individual items).</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>on_progress</code>
            </td>
            <td>
                  <code><span title="collections.abc.Callable">Callable</span>[[<a class="autorefs autorefs-internal" title="PaginationProgress


  
      dataclass
   (affinity.models.pagination.PaginationProgress)" href="#affinity.models.PaginationProgress">PaginationProgress</a>], None] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional callback fired after fetching each page.
Receives PaginationProgress with page_number, items_in_page,
items_so_far, and has_next. Callbacks should be lightweight;
heavy processing should happen outside the callback to avoid
blocking iteration.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Yields:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="PaginatedResponse (affinity.models.pagination.PaginatedResponse)" href="#affinity.models.PaginatedResponse">PaginatedResponse</a>[<span title="affinity.models.pagination.T">T</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>PaginatedResponse objects for each page.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <p>def report(p: PaginationProgress):
    print(f"Page {p.page_number}: {p.items_so_far} items so far")</p>
<p>for page in client.persons.all().pages(on_progress=report):
    process(page.data)</p>
</details>

            <details class="mkdocstrings-source">
              <summary>Source code in <code>affinity/models/pagination.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">pages</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">on_progress</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">PaginationProgress</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterator</span><span class="p">[</span><span class="n">PaginatedResponse</span><span class="p">[</span><span class="n">T</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Iterate through pages (not individual items).</span>

<span class="sd">    Args:</span>
<span class="sd">        on_progress: Optional callback fired after fetching each page.</span>
<span class="sd">            Receives PaginationProgress with page_number, items_in_page,</span>
<span class="sd">            items_so_far, and has_next. Callbacks should be lightweight;</span>
<span class="sd">            heavy processing should happen outside the callback to avoid</span>
<span class="sd">            blocking iteration.</span>

<span class="sd">    Yields:</span>
<span class="sd">        PaginatedResponse objects for each page.</span>

<span class="sd">    Example:</span>
<span class="sd">        def report(p: PaginationProgress):</span>
<span class="sd">            print(f&quot;Page {p.page_number}: {p.items_so_far} items so far&quot;)</span>

<span class="sd">        for page in client.persons.all().pages(on_progress=report):</span>
<span class="sd">            process(page.data)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">page_number</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">items_so_far</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">requested_url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_next_cursor</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fetch_page</span><span class="p">(</span><span class="n">requested_url</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_next_cursor</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">next_cursor</span>
        <span class="n">page_number</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">items_in_page</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
        <span class="n">items_so_far</span> <span class="o">+=</span> <span class="n">items_in_page</span>

        <span class="c1"># Guard against pagination loops</span>
        <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">has_next</span> <span class="ow">and</span> <span class="n">response</span><span class="o">.</span><span class="n">next_cursor</span> <span class="o">==</span> <span class="n">requested_url</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">data</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">on_progress</span><span class="p">:</span>
                    <span class="n">on_progress</span><span class="p">(</span>
                        <span class="n">PaginationProgress</span><span class="p">(</span>
                            <span class="n">page_number</span><span class="o">=</span><span class="n">page_number</span><span class="p">,</span>
                            <span class="n">items_in_page</span><span class="o">=</span><span class="n">items_in_page</span><span class="p">,</span>
                            <span class="n">items_so_far</span><span class="o">=</span><span class="n">items_so_far</span><span class="p">,</span>
                            <span class="n">has_next</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>  <span class="c1"># Loop detected, no more pages</span>
                        <span class="p">)</span>
                    <span class="p">)</span>
                <span class="k">yield</span> <span class="n">response</span>
            <span class="k">break</span>

        <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">data</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">on_progress</span><span class="p">:</span>
                <span class="n">on_progress</span><span class="p">(</span>
                    <span class="n">PaginationProgress</span><span class="p">(</span>
                        <span class="n">page_number</span><span class="o">=</span><span class="n">page_number</span><span class="p">,</span>
                        <span class="n">items_in_page</span><span class="o">=</span><span class="n">items_in_page</span><span class="p">,</span>
                        <span class="n">items_so_far</span><span class="o">=</span><span class="n">items_so_far</span><span class="p">,</span>
                        <span class="n">has_next</span><span class="o">=</span><span class="n">response</span><span class="o">.</span><span class="n">has_next</span><span class="p">,</span>
                    <span class="p">)</span>
                <span class="p">)</span>
            <span class="k">yield</span> <span class="n">response</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">response</span><span class="o">.</span><span class="n">has_next</span><span class="p">:</span>
            <span class="k">break</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.models.PaginatedResponse" class="doc doc-heading">
            <code>PaginatedResponse</code>


<a href="#affinity.models.PaginatedResponse" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="affinity.models.pagination.AffinityModel">AffinityModel</span></code>, <code><span title="typing.Generic">Generic</span>[<span title="affinity.models.pagination.T">T</span>]</code></p>



        <p>A paginated response from the API.</p>
<p>Provides access to the current page of results and pagination info.
Works with all Affinity API endpoints transparently.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="affinity.models.PaginatedResponse.data">data</span></code></td>
            <td>
                  <code><span title="list">list</span>[<span title="affinity.models.pagination.T">T</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of items in the current page.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="has_next: bool

  
      property
   (affinity.models.PaginatedResponse.has_next)" href="#affinity.models.PaginatedResponse.has_next">has_next</a></code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether more pages are available.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="next_cursor: str | None

  
      property
   (affinity.models.PaginatedResponse.next_cursor)" href="#affinity.models.PaginatedResponse.next_cursor">next_cursor</a></code></td>
            <td>
                  <code><span title="str">str</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Cursor for fetching the next page (use this for pagination).</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <div class="highlight"><pre><span></span><code><span class="n">page</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">companies</span><span class="o">.</span><span class="n">list</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="k">while</span> <span class="n">page</span><span class="o">.</span><span class="n">has_next</span><span class="p">:</span>
    <span class="n">process</span><span class="p">(</span><span class="n">page</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
    <span class="n">page</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">companies</span><span class="o">.</span><span class="n">list</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">cursor</span><span class="o">=</span><span class="n">page</span><span class="o">.</span><span class="n">next_cursor</span><span class="p">)</span>
</code></pre></div>
</details>

<details class="tip" open>
  <summary>Tip</summary>
  <p>Always use <code>next_cursor</code> for pagination. Avoid accessing
<code>pagination.next_cursor</code> or <code>next_page_token</code> directly.</p>
</details>







              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/models/pagination.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">PaginatedResponse</span><span class="p">(</span><span class="n">AffinityModel</span><span class="p">,</span> <span class="n">Generic</span><span class="p">[</span><span class="n">T</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A paginated response from the API.</span>

<span class="sd">    Provides access to the current page of results and pagination info.</span>
<span class="sd">    Works with all Affinity API endpoints transparently.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        data: List of items in the current page.</span>
<span class="sd">        has_next: Whether more pages are available.</span>
<span class="sd">        next_cursor: Cursor for fetching the next page (use this for pagination).</span>

<span class="sd">    Example:</span>
<span class="sd">        ```python</span>
<span class="sd">        page = client.companies.list(limit=100)</span>
<span class="sd">        while page.has_next:</span>
<span class="sd">            process(page.data)</span>
<span class="sd">            page = client.companies.list(limit=100, cursor=page.next_cursor)</span>
<span class="sd">        ```</span>

<span class="sd">    Tip:</span>
<span class="sd">        Always use ``next_cursor`` for pagination. Avoid accessing</span>
<span class="sd">        ``pagination.next_cursor`` or ``next_page_token`` directly.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">data</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">T</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span>
    <span class="n">pagination</span><span class="p">:</span> <span class="n">PaginationInfo</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="n">PaginationInfo</span><span class="p">)</span>
    <span class="c1"># Internal: V1 API compatibility field. Users should use next_cursor property.</span>
    <span class="n">next_page_token</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;nextPageToken&quot;</span><span class="p">)</span>
    <span class="n">_has_next_override</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="n">_filter_stats</span><span class="p">:</span> <span class="n">FilterStats</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">PrivateAttr</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Number of items in current page.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">has_next</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Whether there are more pages.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_has_next_override</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_has_next_override</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">next_cursor</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">next_cursor</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Cursor for the next page, if any.</span>

<span class="sd">        Returns the V2 pagination URL or V1 page token, whichever is present.</span>
<span class="sd">        Always use this property instead of accessing ``pagination.next_cursor``</span>
<span class="sd">        or ``next_page_token`` directly.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Use explicit None check to preserve empty strings (which are valid cursors)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pagination</span><span class="o">.</span><span class="n">next_cursor</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">pagination</span><span class="o">.</span><span class="n">next_cursor</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">next_page_token</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">filter_stats</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FilterStats</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Stats for client-side filtered queries (scanned/matched counts).&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_filter_stats</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h3 id="affinity.models.PaginatedResponse.filter_stats" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">filter_stats</span><span class="p">:</span> <span class="n">FilterStats</span> <span class="o">|</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#affinity.models.PaginatedResponse.filter_stats" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Stats for client-side filtered queries (scanned/matched counts).</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="affinity.models.PaginatedResponse.has_next" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">has_next</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#affinity.models.PaginatedResponse.has_next" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Whether there are more pages.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="affinity.models.PaginatedResponse.next_cursor" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">next_cursor</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#affinity.models.PaginatedResponse.next_cursor" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Cursor for the next page, if any.</p>
<p>Returns the V2 pagination URL or V1 page token, whichever is present.
Always use this property instead of accessing <code>pagination.next_cursor</code>
or <code>next_page_token</code> directly.</p>

    </div>

</div>




<div class="doc doc-object doc-function">


<h3 id="affinity.models.PaginatedResponse.__len__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__len__</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">int</span></code>

<a href="#affinity.models.PaginatedResponse.__len__" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Number of items in current page.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>affinity/models/pagination.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Number of items in current page.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.models.PaginationInfo" class="doc doc-heading">
            <code>PaginationInfo</code>


<a href="#affinity.models.PaginationInfo" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="affinity.models.pagination.AffinityModel">AffinityModel</span></code></p>



        <p>V2 pagination info returned in responses.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/models/pagination.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">PaginationInfo</span><span class="p">(</span><span class="n">AffinityModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;V2 pagination info returned in responses.&quot;&quot;&quot;</span>

    <span class="n">next_cursor</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;nextUrl&quot;</span><span class="p">)</span>
    <span class="n">prev_cursor</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;prevUrl&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.models.PaginationProgress" class="doc doc-heading">
            <code>PaginationProgress</code>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

<a href="#affinity.models.PaginationProgress" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">



        <p>Progress information for pagination callbacks.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/models/pagination.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">PaginationProgress</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Progress information for pagination callbacks.&quot;&quot;&quot;</span>

    <span class="n">page_number</span><span class="p">:</span> <span class="nb">int</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;1-indexed page number.&quot;&quot;&quot;</span>

    <span class="n">items_in_page</span><span class="p">:</span> <span class="nb">int</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Items in current page.&quot;&quot;&quot;</span>

    <span class="n">items_so_far</span><span class="p">:</span> <span class="nb">int</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Cumulative items *including* just-yielded page.&quot;&quot;&quot;</span>

    <span class="n">has_next</span><span class="p">:</span> <span class="nb">bool</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Whether more pages exist (matches Page.has_next).&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h3 id="affinity.models.PaginationProgress.has_next" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">has_next</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#affinity.models.PaginationProgress.has_next" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Whether more pages exist (matches Page.has_next).</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="affinity.models.PaginationProgress.items_in_page" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">items_in_page</span><span class="p">:</span> <span class="nb">int</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#affinity.models.PaginationProgress.items_in_page" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Items in current page.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="affinity.models.PaginationProgress.items_so_far" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">items_so_far</span><span class="p">:</span> <span class="nb">int</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#affinity.models.PaginationProgress.items_so_far" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Cumulative items <em>including</em> just-yielded page.</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="affinity.models.PaginationProgress.page_number" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">page_number</span><span class="p">:</span> <span class="nb">int</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#affinity.models.PaginationProgress.page_number" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>1-indexed page number.</p>

    </div>

</div>






  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.models.Person" class="doc doc-heading">
            <code>Person</code>


<a href="#affinity.models.Person" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AffinityModel (affinity.models.entities.AffinityModel)" href="#affinity.models.AffinityModel">AffinityModel</a></code></p>



        <p>Full person representation.</p>
<p>Note: Companies are called Organizations in V1 API.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/models/entities.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Person</span><span class="p">(</span><span class="n">AffinityModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Full person representation.</span>

<span class="sd">    Note: Companies are called Organizations in V1 API.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="nb">id</span><span class="p">:</span> <span class="n">PersonId</span>
    <span class="n">first_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;firstName&quot;</span><span class="p">)</span>
    <span class="n">last_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;lastName&quot;</span><span class="p">)</span>
    <span class="n">primary_email</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;primaryEmailAddress&quot;</span><span class="p">)</span>
    <span class="c1"># V2 uses emailAddresses, V1 uses emails - accept both via alias</span>
    <span class="n">emails</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;emailAddresses&quot;</span><span class="p">)</span>
    <span class="nb">type</span><span class="p">:</span> <span class="n">PersonType</span> <span class="o">=</span> <span class="n">PersonType</span><span class="o">.</span><span class="n">EXTERNAL</span>

    <span class="nd">@field_validator</span><span class="p">(</span><span class="s2">&quot;type&quot;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;before&quot;</span><span class="p">)</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_coerce_person_type</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">_normalize_person_type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

    <span class="c1"># Associations (V1 uses organizationIds)</span>
    <span class="n">company_ids</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">CompanyId</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;organizationIds&quot;</span><span class="p">)</span>
    <span class="n">opportunity_ids</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">OpportunityId</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;opportunityIds&quot;</span><span class="p">)</span>

    <span class="c1"># V1: only returned when `with_current_organizations=true`</span>
    <span class="n">current_company_ids</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">CompanyId</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;currentOrganizationIds&quot;</span>
    <span class="p">)</span>

    <span class="c1"># Field values (requested-vs-not-requested preserved)</span>
    <span class="n">fields</span><span class="p">:</span> <span class="n">FieldValues</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="n">FieldValues</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;fields&quot;</span><span class="p">)</span>
    <span class="n">fields_raw</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">exclude</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="nd">@model_validator</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;before&quot;</span><span class="p">)</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_normalize_null_lists_before</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">_normalize_null_lists</span><span class="p">(</span>
            <span class="n">value</span><span class="p">,</span>
            <span class="p">(</span>
                <span class="s2">&quot;emails&quot;</span><span class="p">,</span>
                <span class="s2">&quot;emailAddresses&quot;</span><span class="p">,</span>
                <span class="s2">&quot;companyIds&quot;</span><span class="p">,</span>
                <span class="s2">&quot;company_ids&quot;</span><span class="p">,</span>
                <span class="s2">&quot;organizationIds&quot;</span><span class="p">,</span>
                <span class="s2">&quot;organization_ids&quot;</span><span class="p">,</span>
                <span class="s2">&quot;currentCompanyIds&quot;</span><span class="p">,</span>
                <span class="s2">&quot;current_company_ids&quot;</span><span class="p">,</span>
                <span class="s2">&quot;currentOrganizationIds&quot;</span><span class="p">,</span>
                <span class="s2">&quot;current_organization_ids&quot;</span><span class="p">,</span>
                <span class="s2">&quot;opportunityIds&quot;</span><span class="p">,</span>
                <span class="s2">&quot;opportunity_ids&quot;</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">_preserve_fields_raw</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

    <span class="nd">@model_validator</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;after&quot;</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_mark_fields_not_requested_when_omitted</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Person</span><span class="p">:</span>
        <span class="k">if</span> <span class="s2">&quot;fields&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__pydantic_fields_set__</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">requested</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="c1"># Interaction dates (V1 format, returned when with_interaction_dates=True)</span>
    <span class="n">interaction_dates</span><span class="p">:</span> <span class="n">InteractionDates</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;interactionDates&quot;</span><span class="p">)</span>

    <span class="c1"># Detailed interaction data with person IDs (returned when with_interaction_persons=True)</span>
    <span class="n">interactions</span><span class="p">:</span> <span class="n">Interactions</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># List entries (returned for single person fetch)</span>
    <span class="n">list_entries</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">ListEntry</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;listEntries&quot;</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">full_name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the person&#39;s full name.&quot;&quot;&quot;</span>
        <span class="n">parts</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">first_name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_name</span><span class="p">]</span>
        <span class="k">return</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">p</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">parts</span> <span class="k">if</span> <span class="n">p</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h3 id="affinity.models.Person.full_name" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">full_name</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#affinity.models.Person.full_name" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

        <p>Get the person's full name.</p>

    </div>

</div>






  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.models.PersonCreate" class="doc doc-heading">
            <code>PersonCreate</code>


<a href="#affinity.models.PersonCreate" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AffinityModel (affinity.models.entities.AffinityModel)" href="#affinity.models.AffinityModel">AffinityModel</a></code></p>



        <p>Data for creating a new person (V1 API).</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/models/entities.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">PersonCreate</span><span class="p">(</span><span class="n">AffinityModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Data for creating a new person (V1 API).&quot;&quot;&quot;</span>

    <span class="n">first_name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">last_name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">emails</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span>
    <span class="n">company_ids</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">CompanyId</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;organization_ids&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.models.PersonUpdate" class="doc doc-heading">
            <code>PersonUpdate</code>


<a href="#affinity.models.PersonUpdate" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AffinityModel (affinity.models.entities.AffinityModel)" href="#affinity.models.AffinityModel">AffinityModel</a></code></p>



        <p>Data for updating a person (V1 API).</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/models/entities.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">PersonUpdate</span><span class="p">(</span><span class="n">AffinityModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Data for updating a person (V1 API).&quot;&quot;&quot;</span>

    <span class="n">first_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">last_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">emails</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">company_ids</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">CompanyId</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;organization_ids&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.models.RateLimitBucket" class="doc doc-heading">
            <code>RateLimitBucket</code>


<a href="#affinity.models.RateLimitBucket" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AffinityModel (affinity.models.entities.AffinityModel)" href="#affinity.models.AffinityModel">AffinityModel</a></code></p>



        <p>A single rate limit bucket (quota window).</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/models/rate_limit_snapshot.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">RateLimitBucket</span><span class="p">(</span><span class="n">AffinityModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A single rate limit bucket (quota window).&quot;&quot;&quot;</span>

    <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">remaining</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">reset_seconds</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;resetSeconds&quot;</span><span class="p">)</span>
    <span class="n">used</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.models.RateLimitInfo" class="doc doc-heading">
            <code>RateLimitInfo</code>


<a href="#affinity.models.RateLimitInfo" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AffinityModel (affinity.models.entities.AffinityModel)" href="#affinity.models.AffinityModel">AffinityModel</a></code></p>



        <p>Rate limit information for an API key.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/models/secondary.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">RateLimitInfo</span><span class="p">(</span><span class="n">AffinityModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Rate limit information for an API key.&quot;&quot;&quot;</span>

    <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">remaining</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">reset</span><span class="p">:</span> <span class="nb">int</span>  <span class="c1"># Seconds until reset</span>
    <span class="n">used</span><span class="p">:</span> <span class="nb">int</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.models.RateLimitSnapshot" class="doc doc-heading">
            <code>RateLimitSnapshot</code>


<a href="#affinity.models.RateLimitSnapshot" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AffinityModel (affinity.models.entities.AffinityModel)" href="#affinity.models.AffinityModel">AffinityModel</a></code></p>



        <p>A best-effort snapshot of rate limit state.</p>
<p>Notes:
- <code>source="headers"</code> means the snapshot is derived from tracked HTTP response headers.
- <code>source="endpoint"</code> means the snapshot is derived from a dedicated endpoint response payload.
- <code>source="unknown"</code> means no reliable rate limit information has been observed yet.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/models/rate_limit_snapshot.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">RateLimitSnapshot</span><span class="p">(</span><span class="n">AffinityModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A best-effort snapshot of rate limit state.</span>

<span class="sd">    Notes:</span>
<span class="sd">    - `source=&quot;headers&quot;` means the snapshot is derived from tracked HTTP response headers.</span>
<span class="sd">    - `source=&quot;endpoint&quot;` means the snapshot is derived from a dedicated endpoint response payload.</span>
<span class="sd">    - `source=&quot;unknown&quot;` means no reliable rate limit information has been observed yet.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">api_key_per_minute</span><span class="p">:</span> <span class="n">RateLimitBucket</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span>
        <span class="n">default_factory</span><span class="o">=</span><span class="n">RateLimitBucket</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;apiKeyPerMinute&quot;</span>
    <span class="p">)</span>
    <span class="n">org_monthly</span><span class="p">:</span> <span class="n">RateLimitBucket</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="n">RateLimitBucket</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;orgMonthly&quot;</span><span class="p">)</span>
    <span class="n">concurrent</span><span class="p">:</span> <span class="n">RateLimitBucket</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">observed_at</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;observedAt&quot;</span><span class="p">)</span>
    <span class="n">age_seconds</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;ageSeconds&quot;</span><span class="p">)</span>
    <span class="n">source</span><span class="p">:</span> <span class="n">RateLimitSource</span> <span class="o">=</span> <span class="s2">&quot;unknown&quot;</span>
    <span class="n">request_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;requestId&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.models.RateLimits" class="doc doc-heading">
            <code>RateLimits</code>


<a href="#affinity.models.RateLimits" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AffinityModel (affinity.models.entities.AffinityModel)" href="#affinity.models.AffinityModel">AffinityModel</a></code></p>



        <p>Current rate limit status.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/models/secondary.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">RateLimits</span><span class="p">(</span><span class="n">AffinityModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Current rate limit status.&quot;&quot;&quot;</span>

    <span class="n">org_monthly</span><span class="p">:</span> <span class="n">RateLimitInfo</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;orgMonthly&quot;</span><span class="p">)</span>
    <span class="n">api_key_per_minute</span><span class="p">:</span> <span class="n">RateLimitInfo</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;apiKeyPerMinute&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.models.RelationshipStrength" class="doc doc-heading">
            <code>RelationshipStrength</code>


<a href="#affinity.models.RelationshipStrength" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AffinityModel (affinity.models.entities.AffinityModel)" href="#affinity.models.AffinityModel">AffinityModel</a></code></p>



        <p>Relationship strength between internal and external persons.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/models/secondary.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">RelationshipStrength</span><span class="p">(</span><span class="n">AffinityModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Relationship strength between internal and external persons.&quot;&quot;&quot;</span>

    <span class="n">internal_id</span><span class="p">:</span> <span class="n">UserId</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;internalId&quot;</span><span class="p">)</span>
    <span class="n">external_id</span><span class="p">:</span> <span class="n">PersonId</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;externalId&quot;</span><span class="p">)</span>
    <span class="n">strength</span><span class="p">:</span> <span class="nb">float</span>  <span class="c1"># 0.0 to 1.0</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.models.Reminder" class="doc doc-heading">
            <code>Reminder</code>


<a href="#affinity.models.Reminder" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AffinityModel (affinity.models.entities.AffinityModel)" href="#affinity.models.AffinityModel">AffinityModel</a></code></p>



        <p>A reminder attached to an entity.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/models/secondary.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Reminder</span><span class="p">(</span><span class="n">AffinityModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A reminder attached to an entity.&quot;&quot;&quot;</span>

    <span class="nb">id</span><span class="p">:</span> <span class="n">ReminderIdType</span>
    <span class="nb">type</span><span class="p">:</span> <span class="n">ReminderType</span>
    <span class="n">status</span><span class="p">:</span> <span class="n">ReminderStatus</span>
    <span class="n">content</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># Due date and recurrence</span>
    <span class="n">due_date</span><span class="p">:</span> <span class="n">ISODatetime</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;dueDate&quot;</span><span class="p">)</span>
    <span class="n">reset_type</span><span class="p">:</span> <span class="n">ReminderResetType</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;resetType&quot;</span><span class="p">)</span>
    <span class="n">reminder_days</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;reminderDays&quot;</span><span class="p">)</span>

    <span class="c1"># Persons involved</span>
    <span class="n">creator</span><span class="p">:</span> <span class="n">PersonSummary</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">owner</span><span class="p">:</span> <span class="n">PersonSummary</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">completer</span><span class="p">:</span> <span class="n">PersonSummary</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># Associated entity (one of these)</span>
    <span class="n">person</span><span class="p">:</span> <span class="n">PersonSummary</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">company</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;organization&quot;</span><span class="p">)</span>
    <span class="n">opportunity</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># Timestamps</span>
    <span class="n">created_at</span><span class="p">:</span> <span class="n">ISODatetime</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;createdAt&quot;</span><span class="p">)</span>
    <span class="n">completed_at</span><span class="p">:</span> <span class="n">ISODatetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;completedAt&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.models.ReminderCreate" class="doc doc-heading">
            <code>ReminderCreate</code>


<a href="#affinity.models.ReminderCreate" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AffinityModel (affinity.models.entities.AffinityModel)" href="#affinity.models.AffinityModel">AffinityModel</a></code></p>



        <p>Data for creating a reminder (V1 API).</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/models/secondary.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ReminderCreate</span><span class="p">(</span><span class="n">AffinityModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Data for creating a reminder (V1 API).&quot;&quot;&quot;</span>

    <span class="n">owner_id</span><span class="p">:</span> <span class="n">UserId</span>
    <span class="nb">type</span><span class="p">:</span> <span class="n">ReminderType</span>
    <span class="n">content</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">due_date</span><span class="p">:</span> <span class="n">ISODatetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># Required for one-time</span>
    <span class="n">reset_type</span><span class="p">:</span> <span class="n">ReminderResetType</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># Required for recurring</span>
    <span class="n">reminder_days</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># Required for recurring</span>

    <span class="c1"># Associate with one entity</span>
    <span class="n">person_id</span><span class="p">:</span> <span class="n">PersonId</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">company_id</span><span class="p">:</span> <span class="n">CompanyId</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;organization_id&quot;</span><span class="p">)</span>
    <span class="n">opportunity_id</span><span class="p">:</span> <span class="n">OpportunityId</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.models.ReminderUpdate" class="doc doc-heading">
            <code>ReminderUpdate</code>


<a href="#affinity.models.ReminderUpdate" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AffinityModel (affinity.models.entities.AffinityModel)" href="#affinity.models.AffinityModel">AffinityModel</a></code></p>



        <p>Data for updating a reminder (V1 API).</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/models/secondary.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ReminderUpdate</span><span class="p">(</span><span class="n">AffinityModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Data for updating a reminder (V1 API).&quot;&quot;&quot;</span>

    <span class="n">owner_id</span><span class="p">:</span> <span class="n">UserId</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="nb">type</span><span class="p">:</span> <span class="n">ReminderType</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">content</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">due_date</span><span class="p">:</span> <span class="n">ISODatetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">reset_type</span><span class="p">:</span> <span class="n">ReminderResetType</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">reminder_days</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">is_completed</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.models.SavedView" class="doc doc-heading">
            <code>SavedView</code>


<a href="#affinity.models.SavedView" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AffinityModel (affinity.models.entities.AffinityModel)" href="#affinity.models.AffinityModel">AffinityModel</a></code></p>



        <p>A saved view configuration for a list.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/models/entities.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">SavedView</span><span class="p">(</span><span class="n">AffinityModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A saved view configuration for a list.&quot;&quot;&quot;</span>

    <span class="nb">id</span><span class="p">:</span> <span class="n">SavedViewId</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="nb">type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># V2 field: view type</span>
    <span class="n">list_id</span><span class="p">:</span> <span class="n">ListId</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;listId&quot;</span><span class="p">)</span>
    <span class="c1"># The Affinity API does not consistently include this field.</span>
    <span class="n">is_default</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;isDefault&quot;</span><span class="p">)</span>
    <span class="n">created_at</span><span class="p">:</span> <span class="n">ISODatetime</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;createdAt&quot;</span><span class="p">)</span>

    <span class="c1"># Field IDs included in this view</span>
    <span class="n">field_ids</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;fieldIds&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.models.Tenant" class="doc doc-heading">
            <code>Tenant</code>


<a href="#affinity.models.Tenant" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AffinityModel (affinity.models.entities.AffinityModel)" href="#affinity.models.AffinityModel">AffinityModel</a></code></p>



        <p>Affinity tenant (organization/team) information.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/models/secondary.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Tenant</span><span class="p">(</span><span class="n">AffinityModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Affinity tenant (organization/team) information.&quot;&quot;&quot;</span>

    <span class="nb">id</span><span class="p">:</span> <span class="n">TenantId</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">subdomain</span><span class="p">:</span> <span class="nb">str</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.models.WebhookCreate" class="doc doc-heading">
            <code>WebhookCreate</code>


<a href="#affinity.models.WebhookCreate" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AffinityModel (affinity.models.entities.AffinityModel)" href="#affinity.models.AffinityModel">AffinityModel</a></code></p>



        <p>Data for creating a webhook subscription (V1 API).</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/models/secondary.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">WebhookCreate</span><span class="p">(</span><span class="n">AffinityModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Data for creating a webhook subscription (V1 API).&quot;&quot;&quot;</span>

    <span class="n">webhook_url</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">subscriptions</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">WebhookEvent</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.models.WebhookSubscription" class="doc doc-heading">
            <code>WebhookSubscription</code>


<a href="#affinity.models.WebhookSubscription" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AffinityModel (affinity.models.entities.AffinityModel)" href="#affinity.models.AffinityModel">AffinityModel</a></code></p>



        <p>A webhook subscription for real-time events.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/models/secondary.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">WebhookSubscription</span><span class="p">(</span><span class="n">AffinityModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A webhook subscription for real-time events.&quot;&quot;&quot;</span>

    <span class="nb">id</span><span class="p">:</span> <span class="n">WebhookId</span>
    <span class="n">webhook_url</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;webhookUrl&quot;</span><span class="p">)</span>
    <span class="n">subscriptions</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">WebhookEvent</span><span class="p">]</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span>
    <span class="n">disabled</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">created_by</span><span class="p">:</span> <span class="n">UserId</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;createdBy&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.models.WebhookUpdate" class="doc doc-heading">
            <code>WebhookUpdate</code>


<a href="#affinity.models.WebhookUpdate" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AffinityModel (affinity.models.entities.AffinityModel)" href="#affinity.models.AffinityModel">AffinityModel</a></code></p>



        <p>Data for updating a webhook subscription (V1 API).</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/models/secondary.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">WebhookUpdate</span><span class="p">(</span><span class="n">AffinityModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Data for updating a webhook subscription (V1 API).&quot;&quot;&quot;</span>

    <span class="n">webhook_url</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">subscriptions</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">WebhookEvent</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">disabled</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="affinity.models.WhoAmI" class="doc doc-heading">
            <code>WhoAmI</code>


<a href="#affinity.models.WhoAmI" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="AffinityModel (affinity.models.entities.AffinityModel)" href="#affinity.models.AffinityModel">AffinityModel</a></code></p>



        <p>Response from whoami endpoint.</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>affinity/models/secondary.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">WhoAmI</span><span class="p">(</span><span class="n">AffinityModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Response from whoami endpoint.&quot;&quot;&quot;</span>

    <span class="n">tenant</span><span class="p">:</span> <span class="n">Tenant</span>
    <span class="n">user</span><span class="p">:</span> <span class="n">User</span>
    <span class="n">grant</span><span class="p">:</span> <span class="n">Grant</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>




  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Disclaimer: Unofficial community project; not affiliated with, endorsed by, or sponsored by Affinity. "Affinity" and related marks are trademarks of their respective owners. Use of the Affinity API is subject to Affinity Terms of Service.
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>